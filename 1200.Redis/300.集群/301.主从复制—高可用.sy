{
	"ID": "20210708004534-4qqwyzn",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20210708004534-4qqwyzn",
		"type": "doc"
	},
	"Children": [
		{
			"ID": "20210708004534-onrwdap",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20210708004534-onrwdap"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "## "
				},
				{
					"Type": "NodeText",
					"Data": "问题 \u0026 解决方案"
				}
			]
		},
		{
			"ID": "20210708004534-khb9cqj",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-khb9cqj"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "单机 Redis 的风险与问题"
				}
			]
		},
		{
			"ID": "20210708004534-n6sfjn2",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-n6sfjn2"
			},
			"Children": [
				{
					"ID": "20210708004534-h7ramn5",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-h7ramn5"
					},
					"Children": [
						{
							"ID": "20210708004534-joqw7ri",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-joqw7ri"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "机器故障"
								}
							]
						},
						{
							"ID": "20210708004534-5xrd4eh",
							"Type": "NodeList",
							"ListData": {
								"Tight": true,
								"BulletChar": 45,
								"Padding": 2,
								"Marker": "LQ==",
								"Num": -1
							},
							"Properties": {
								"id": "20210708004534-5xrd4eh"
							},
							"Children": [
								{
									"ID": "20210708004534-hufx5ck",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-hufx5ck"
									},
									"Children": [
										{
											"ID": "20210708004534-ky3gs2b",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-ky3gs2b"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "现象：硬盘故障、系统崩溃"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-oxqbrjr",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-oxqbrjr"
									},
									"Children": [
										{
											"ID": "20210708004534-syiq1lt",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-syiq1lt"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "本质：数据丢失，很可能对业务造成灾难性打击"
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-tde0oef",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-tde0oef"
					},
					"Children": [
						{
							"ID": "20210708004534-v988wx1",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-v988wx1"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "容量瓶颈"
								}
							]
						},
						{
							"ID": "20210708004534-th8ceke",
							"Type": "NodeList",
							"ListData": {
								"Tight": true,
								"BulletChar": 45,
								"Padding": 2,
								"Marker": "LQ==",
								"Num": -1
							},
							"Properties": {
								"id": "20210708004534-th8ceke"
							},
							"Children": [
								{
									"ID": "20210708004534-qjd4zc5",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-qjd4zc5"
									},
									"Children": [
										{
											"ID": "20210708004534-bid9hop",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-bid9hop"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "现象：内存不足，从 16G 升级到 64G，从 64G 升级到 128G，无限升级内存"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-puhz4kc",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-puhz4kc"
									},
									"Children": [
										{
											"ID": "20210708004534-91axiv5",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-91axiv5"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "本质：穷，硬件条件跟不上"
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-kpd1se9",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-kpd1se9"
					},
					"Children": [
						{
							"ID": "20210708004534-t82iisx",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-t82iisx"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "结论"
								}
							]
						},
						{
							"ID": "20210708004534-rt4ar61",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-rt4ar61"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "为了避免单点 Redis 服务器故障，准备多台服务器，互相连通。将数据"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "复制多个副本保存在不同的服务器上"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "，"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "连接在一起"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "，并保证数据是"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "同步"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "的。即使有其中一台服务器宕机，其他服务器依然可以继续 提供服务，实现 Redis 的高可用，同时实现数据"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "冗余备份"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "。"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-pu6mk3u",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-pu6mk3u"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "多台服务器连接方案"
				}
			]
		},
		{
			"ID": "20210708004534-x6738c4",
			"Type": "NodeList",
			"ListData": {
				"Tight": true,
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-x6738c4"
			},
			"Children": [
				{
					"ID": "20210708004534-0qon0wr",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-0qon0wr"
					},
					"Children": [
						{
							"ID": "20210708004534-mttk4f6",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-mttk4f6"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "master：提供数据方，主服务器，主节点，主库，主客户端"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-vpsvjzg",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-vpsvjzg"
					},
					"Children": [
						{
							"ID": "20210708004534-iwl7b6h",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-iwl7b6h"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "slave：接收数据方，从服务器，从节点，从库，从客户端"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-86oy9cx",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-86oy9cx"
					},
					"Children": [
						{
							"ID": "20210708004534-331n12s",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-331n12s"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "需要解决的问题：数据同步"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-6ik3jfq",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-6ik3jfq"
					},
					"Children": [
						{
							"ID": "20210708004534-77a8r75",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-77a8r75"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "核心工作："
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "master 的数据复制到 slave 中"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-o8nls75",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20210708004534-o8nls75"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "## "
				},
				{
					"Type": "NodeText",
					"Data": "主从复制"
				}
			]
		},
		{
			"ID": "20210708004534-y2bm5tg",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-y2bm5tg"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "简介"
				}
			]
		},
		{
			"ID": "20210708004534-lhid4bu",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-lhid4bu"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "主从复制即"
				},
				{
					"Type": "NodeStrong",
					"Children": [
						{
							"Type": "NodeStrongA6kOpenMarker",
							"Data": "**"
						},
						{
							"Type": "NodeText",
							"Data": "将 master 中的数据即时、有效的复制到 slave 中"
						},
						{
							"Type": "NodeStrongA6kCloseMarker",
							"Data": "**"
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-1qb77f6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-1qb77f6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "一个 master 可以拥有多个 slave，一个 slave 只对应一个 master。一对多。"
				}
			]
		},
		{
			"ID": "20210708004534-oqmufsb",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-oqmufsb"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "master 职责："
				}
			]
		},
		{
			"ID": "20210708004534-2qg3ueb",
			"Type": "NodeList",
			"ListData": {
				"Tight": true,
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-2qg3ueb"
			},
			"Children": [
				{
					"ID": "20210708004534-r63aaoe",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-r63aaoe"
					},
					"Children": [
						{
							"ID": "20210708004534-oitbnim",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-oitbnim"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "写数据"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-40xri0p",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-40xri0p"
					},
					"Children": [
						{
							"ID": "20210708004534-wt7bit4",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-wt7bit4"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "执行"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "写操作时"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "，将"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "出现变化的数据自动同步到 slave"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-q35silg",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-q35silg"
					},
					"Children": [
						{
							"ID": "20210708004534-ur83n7h",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-ur83n7h"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "读数据（可忽略）"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-gp938ri",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-gp938ri"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "slave 职责："
				}
			]
		},
		{
			"ID": "20210708004534-iit30ux",
			"Type": "NodeList",
			"ListData": {
				"Tight": true,
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-iit30ux"
			},
			"Children": [
				{
					"ID": "20210708004534-g52kieb",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-g52kieb"
					},
					"Children": [
						{
							"ID": "20210708004534-ihrworo",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-ihrworo"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "读数据"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-tffv7e1",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-tffv7e1"
					},
					"Children": [
						{
							"ID": "20210708004534-ar6qih0",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-ar6qih0"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "写数据（禁止）"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-rk70wyp",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-rk70wyp"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "作用"
				}
			]
		},
		{
			"ID": "20210708004534-gl9sq8s",
			"Type": "NodeList",
			"ListData": {
				"Tight": true,
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-gl9sq8s"
			},
			"Children": [
				{
					"ID": "20210708004534-jit5brb",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-jit5brb"
					},
					"Children": [
						{
							"ID": "20210708004534-g1r07dn",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-g1r07dn"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "读写分离"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "：master 写、slave 读，提高服务器的读写负载能力"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-fpgkuc5",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-fpgkuc5"
					},
					"Children": [
						{
							"ID": "20210708004534-ch4nu0y",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-ch4nu0y"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "负载均衡"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "：基于主从结构，配合读写分离，由 slave 分担 master 负载，并根据需求的变化，改变 slave 的数量，通过多个从节点分担数据读取负载，大大提高 Redis 服务器并发量与数据吞吐量"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-3u0rbsb",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-3u0rbsb"
					},
					"Children": [
						{
							"ID": "20210708004534-f0vzflm",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-f0vzflm"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "故障恢复"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "：当 master 出现问题时，由 slave 提供服务，实现快速的故障恢复"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-27gbr9w",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-27gbr9w"
					},
					"Children": [
						{
							"ID": "20210708004534-u5q9zjw",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-u5q9zjw"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "数据冗余"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "：实现"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "数据热备份"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "，是持久化之外的一种数据冗余方式"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-4ogb3tz",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-4ogb3tz"
					},
					"Children": [
						{
							"ID": "20210708004534-jksg36f",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-jksg36f"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "高可用基石"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "：基于主从复制，构建哨兵模式与集群，实现 Redis 的高可用方案"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-8kk2tar",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-8kk2tar"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "流程总述 🔥"
				}
			]
		},
		{
			"ID": "20210708004534-dvngaw5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-dvngaw5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "主从复制过程大体可以分为 3 个阶段："
				}
			]
		},
		{
			"ID": "20210708004534-c6laroy",
			"Type": "NodeList",
			"ListData": {
				"Tight": true,
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-c6laroy"
			},
			"Children": [
				{
					"ID": "20210708004534-7uzxk65",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-7uzxk65"
					},
					"Children": [
						{
							"ID": "20210708004534-npgqo96",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-npgqo96"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "建立连接阶段（即准备阶段）："
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "slave 连接 master"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-hpiv7h0",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-hpiv7h0"
					},
					"Children": [
						{
							"ID": "20210708004534-xy0ecxm",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-xy0ecxm"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "数据同步阶段：同步"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-xo9jwps",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-xo9jwps"
					},
					"Children": [
						{
							"ID": "20210708004534-vjf2kwx",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-vjf2kwx"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "命令传播阶段：反复同步"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-j45ccao",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-j45ccao"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\u003cimg src=\"../assets/image-20210325222944032.png\" alt=\"image-20210325222944032\" style=\"zoom：50%;\" /\u003e"
				}
			]
		},
		{
			"ID": "20210708004534-pl7hl3u",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20210708004534-pl7hl3u"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "## "
				},
				{
					"Type": "NodeText",
					"Data": "主从复制流程—建立连接"
				}
			]
		},
		{
			"ID": "20210708004534-aopsdem",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-aopsdem"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "流程介绍"
				}
			]
		},
		{
			"ID": "20210708004534-hw27qa0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-hw27qa0"
			},
			"Children": [
				{
					"Type": "NodeStrong",
					"Children": [
						{
							"Type": "NodeStrongA6kOpenMarker",
							"Data": "**"
						},
						{
							"Type": "NodeText",
							"Data": "建立 slave 到 master 的连接"
						},
						{
							"Type": "NodeStrongA6kCloseMarker",
							"Data": "**"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "，使 master 能够识别 slave，并"
				},
				{
					"Type": "NodeStrong",
					"Children": [
						{
							"Type": "NodeStrongA6kOpenMarker",
							"Data": "**"
						},
						{
							"Type": "NodeText",
							"Data": "保存 slave 的端口号"
						},
						{
							"Type": "NodeStrongA6kCloseMarker",
							"Data": "**"
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-jssia0z",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-jssia0z"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\u003cimg src=\"../assets/image-20210325224248706.png\" alt=\"image-20210325224248706\" style=\"zoom： 33%;\" /\u003e"
				}
			]
		},
		{
			"ID": "20210708004534-8tuovfd",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1,
				"Tight": true,
				"Start": 1,
				"Delimiter": 46,
				"Padding": 3,
				"Marker": "MQ==",
				"Num": 1
			},
			"Properties": {
				"id": "20210708004534-8tuovfd"
			},
			"Children": [
				{
					"ID": "20210708004534-3ewle69",
					"Type": "NodeListItem",
					"Data": "1",
					"ListData": {
						"Typ": 1,
						"Tight": true,
						"Start": 1,
						"Delimiter": 46,
						"Padding": 3,
						"Marker": "MQ==",
						"Num": 1
					},
					"Properties": {
						"id": "20210708004534-3ewle69"
					},
					"Children": [
						{
							"ID": "20210708004534-t669f43",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-t669f43"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "设置 master 的地址和端口，并保存 master 的各种信息"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-feahma8",
					"Type": "NodeListItem",
					"Data": "2",
					"ListData": {
						"Typ": 1,
						"Tight": true,
						"Start": 2,
						"Delimiter": 46,
						"Padding": 3,
						"Marker": "Mg==",
						"Num": 2
					},
					"Properties": {
						"id": "20210708004534-feahma8"
					},
					"Children": [
						{
							"ID": "20210708004534-q8s02hu",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-q8s02hu"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "建立 socket 连接"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-lbhomfa",
					"Type": "NodeListItem",
					"Data": "3",
					"ListData": {
						"Typ": 1,
						"Tight": true,
						"Start": 3,
						"Delimiter": 46,
						"Padding": 3,
						"Marker": "Mw==",
						"Num": 3
					},
					"Properties": {
						"id": "20210708004534-lbhomfa"
					},
					"Children": [
						{
							"ID": "20210708004534-1om45g0",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-1om45g0"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "发送 ping 命令(定时器任务)"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-vqzmefd",
					"Type": "NodeListItem",
					"Data": "4",
					"ListData": {
						"Typ": 1,
						"Tight": true,
						"Start": 4,
						"Delimiter": 46,
						"Padding": 3,
						"Marker": "NA==",
						"Num": 4
					},
					"Properties": {
						"id": "20210708004534-vqzmefd"
					},
					"Children": [
						{
							"ID": "20210708004534-2s99w1c",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-2s99w1c"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "身份验证（由于 Redis 一般不对外开放，所以可以不设置外网访问以及身份认证）"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-9ruj2bm",
					"Type": "NodeListItem",
					"Data": "5",
					"ListData": {
						"Typ": 1,
						"Tight": true,
						"Start": 5,
						"Delimiter": 46,
						"Padding": 3,
						"Marker": "NQ==",
						"Num": 5
					},
					"Properties": {
						"id": "20210708004534-9ruj2bm"
					},
					"Children": [
						{
							"ID": "20210708004534-805kqq7",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-805kqq7"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "master 保存 slave 的端口号"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-17c7845",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-17c7845"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "实践"
				}
			]
		},
		{
			"ID": "20210708004534-1584knc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-1584knc"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "可以使用如下配置，关掉日志，并前台运行，方便查看"
				}
			]
		},
		{
			"ID": "20210708004534-qf3fvpc",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210708004534-qf3fvpc"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "daemonize no\n#logfile \"6379.log\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210708004534-b3q3zns",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-b3q3zns"
			},
			"Children": [
				{
					"Type": "NodeStrong",
					"Children": [
						{
							"Type": "NodeStrongA6kOpenMarker",
							"Data": "**"
						},
						{
							"Type": "NodeText",
							"Data": "slave 连接 master"
						},
						{
							"Type": "NodeStrongA6kCloseMarker",
							"Data": "**"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "（如下操作都是在 slave 客户端或服务器进行）："
				}
			]
		},
		{
			"ID": "20210708004534-e87tm5l",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-e87tm5l"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "方式 1：客户端发送命令"
				}
			]
		},
		{
			"ID": "20210708004534-rf011o8",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210708004534-rf011o8"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "slaveof \u003cmasterip\u003e \u003cmasterport\u003e\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210708004534-k4kavd1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-k4kavd1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "方式 2：启动服务器参数"
				}
			]
		},
		{
			"ID": "20210708004534-8rc16cv",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210708004534-8rc16cv"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "redis-server -slaveof \u003cmasterip\u003e \u003cmasterport\u003e\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210708004534-yf7zdmx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-yf7zdmx"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "方式 3："
				},
				{
					"Type": "NodeStrong",
					"Children": [
						{
							"Type": "NodeStrongA6kOpenMarker",
							"Data": "**"
						},
						{
							"Type": "NodeText",
							"Data": "服务器配置"
						},
						{
							"Type": "NodeStrongA6kCloseMarker",
							"Data": "**"
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-o4pblxz",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210708004534-o4pblxz"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "slaveof \u003cmasterip\u003e \u003cmasterport\u003e\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210708004534-e3i9qtg",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-e3i9qtg"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "最后可以通过"
				},
				{
					"Type": "NodeCodeSpan",
					"CodeMarkerLen": 1,
					"Children": [
						{
							"Type": "NodeCodeSpanOpenMarker",
							"Data": "`"
						},
						{
							"Type": "NodeCodeSpanContent",
							"Data": "info"
						},
						{
							"Type": "NodeCodeSpanCloseMarker",
							"Data": "`"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "指令查看信息"
				}
			]
		},
		{
			"ID": "20210708004534-v2xebq0",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210708004534-v2xebq0"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "# slave\n\nmaster_link_down_since_seconds\nmasterhost\nmasterport\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210708004534-rhrkm2h",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210708004534-rhrkm2h"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "# master\n\nslave_listening_port(多个)\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210708004534-ejqqym0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-ejqqym0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "主动断开连接（客户端发送命令）："
				}
			]
		},
		{
			"ID": "20210708004534-ukx5qwz",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210708004534-ukx5qwz"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "slaveof no one\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210708004534-798lel8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-798lel8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "注意：slave 断开连接后，"
				},
				{
					"Type": "NodeStrong",
					"Children": [
						{
							"Type": "NodeStrongA6kOpenMarker",
							"Data": "**"
						},
						{
							"Type": "NodeText",
							"Data": "不会删除已有数据"
						},
						{
							"Type": "NodeStrongA6kCloseMarker",
							"Data": "**"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "，只是"
				},
				{
					"Type": "NodeStrong",
					"Children": [
						{
							"Type": "NodeStrongA6kOpenMarker",
							"Data": "**"
						},
						{
							"Type": "NodeText",
							"Data": "不再接受 master 发送的数据"
						},
						{
							"Type": "NodeStrongA6kCloseMarker",
							"Data": "**"
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-iri6pt3",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-iri6pt3"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "授权访问"
				}
			]
		},
		{
			"ID": "20210708004534-n7rap5b",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-n7rap5b"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "服务端："
				}
			]
		},
		{
			"ID": "20210708004534-vdlorql",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-vdlorql"
			},
			"Children": [
				{
					"ID": "20210708004534-u09vdki",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-u09vdki"
					},
					"Children": [
						{
							"ID": "20210708004534-9m4gb51",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-9m4gb51"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "master 客户端发送命令设置密码"
								}
							]
						},
						{
							"ID": "20210708004534-gsyfrws",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"CodeBlockFenceChar": 96,
							"CodeBlockFenceLen": 3,
							"CodeBlockOpenFence": "YGBg",
							"CodeBlockCloseFence": "YGBg",
							"Properties": {
								"id": "20210708004534-gsyfrws"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker"
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "requirepass \u003cpassword\u003e\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-ntpuhg4",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-ntpuhg4"
					},
					"Children": [
						{
							"ID": "20210708004534-v0s8v1w",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-v0s8v1w"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "master 配置文件设置密码"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						},
						{
							"ID": "20210708004534-47p77uu",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"CodeBlockFenceChar": 96,
							"CodeBlockFenceLen": 3,
							"CodeBlockOpenFence": "YGBg",
							"CodeBlockCloseFence": "YGBg",
							"Properties": {
								"id": "20210708004534-47p77uu"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker"
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "config set requirepass \u003cpassword\u003e\nconfig get requirepass\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-hiqp4qn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-hiqp4qn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "客户端："
				}
			]
		},
		{
			"ID": "20210708004534-l56z2k5",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-l56z2k5"
			},
			"Children": [
				{
					"ID": "20210708004534-mv208d8",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-mv208d8"
					},
					"Children": [
						{
							"ID": "20210708004534-twtpo8x",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-twtpo8x"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "slave 客户端发送命令设置密码"
								}
							]
						},
						{
							"ID": "20210708004534-wxsrqpy",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"CodeBlockFenceChar": 96,
							"CodeBlockFenceLen": 3,
							"CodeBlockOpenFence": "YGBg",
							"CodeBlockCloseFence": "YGBg",
							"Properties": {
								"id": "20210708004534-wxsrqpy"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker"
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "auth \u003cpassword\u003e\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-5acfqz5",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-5acfqz5"
					},
					"Children": [
						{
							"ID": "20210708004534-iwahnvs",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-iwahnvs"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "slave 启动服务器设置密码"
								}
							]
						},
						{
							"ID": "20210708004534-zmykpv0",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"CodeBlockFenceChar": 96,
							"CodeBlockFenceLen": 3,
							"CodeBlockOpenFence": "YGBg",
							"CodeBlockCloseFence": "YGBg",
							"Properties": {
								"id": "20210708004534-zmykpv0"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker"
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "redis-server –a \u003cpassword\u003e\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-s7et5hk",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-s7et5hk"
					},
					"Children": [
						{
							"ID": "20210708004534-9rq1xup",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-9rq1xup"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "slave 配置文件设置密码"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						},
						{
							"ID": "20210708004534-ndrwn90",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"CodeBlockFenceChar": 96,
							"CodeBlockFenceLen": 3,
							"CodeBlockOpenFence": "YGBg",
							"CodeBlockCloseFence": "YGBg",
							"Properties": {
								"id": "20210708004534-ndrwn90"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker"
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "masterauth \u003cpassword\u003e\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-eyl85k8",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20210708004534-eyl85k8"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "## "
				},
				{
					"Type": "NodeText",
					"Data": "主从复制流程—数据同步"
				}
			]
		},
		{
			"ID": "20210708004534-lsafjdv",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-lsafjdv"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "流程介绍"
				}
			]
		},
		{
			"ID": "20210708004534-qz31nor",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-qz31nor"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在 slave 初次连接 master 后，复制 master 中的所有数据到 slave。并将 slave 的数据库状态更新成 master 当前的数据库状态。"
				}
			]
		},
		{
			"ID": "20210708004534-994rog6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-994rog6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\u003cimg src=\"../assets/image-20210325230250557.png\" alt=\"image-20210325230250557\" style=\"zoom： 33%;\" /\u003e"
				}
			]
		},
		{
			"ID": "20210708004534-nrml9rj",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1,
				"Tight": true,
				"Start": 1,
				"Delimiter": 46,
				"Padding": 3,
				"Marker": "MQ==",
				"Num": 1
			},
			"Properties": {
				"id": "20210708004534-nrml9rj"
			},
			"Children": [
				{
					"ID": "20210708004534-wphov81",
					"Type": "NodeListItem",
					"Data": "1",
					"ListData": {
						"Typ": 1,
						"Tight": true,
						"Start": 1,
						"Delimiter": 46,
						"Padding": 3,
						"Marker": "MQ==",
						"Num": 1
					},
					"Properties": {
						"id": "20210708004534-wphov81"
					},
					"Children": [
						{
							"ID": "20210708004534-ba5c6y5",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-ba5c6y5"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "请求同步数据"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-oc5pcfw",
					"Type": "NodeListItem",
					"Data": "2",
					"ListData": {
						"Typ": 1,
						"Tight": true,
						"Start": 2,
						"Delimiter": 46,
						"Padding": 3,
						"Marker": "Mg==",
						"Num": 2
					},
					"Properties": {
						"id": "20210708004534-oc5pcfw"
					},
					"Children": [
						{
							"ID": "20210708004534-rp01gmc",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-rp01gmc"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "创建 RDB 同步数据"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-iduw2nc",
					"Type": "NodeListItem",
					"Data": "3",
					"ListData": {
						"Typ": 1,
						"Tight": true,
						"Start": 3,
						"Delimiter": 46,
						"Padding": 3,
						"Marker": "Mw==",
						"Num": 3
					},
					"Properties": {
						"id": "20210708004534-iduw2nc"
					},
					"Children": [
						{
							"ID": "20210708004534-7zrny9f",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-7zrny9f"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "恢复 RDB 同步数据"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-mwokq1s",
					"Type": "NodeListItem",
					"Data": "4",
					"ListData": {
						"Typ": 1,
						"Tight": true,
						"Start": 4,
						"Delimiter": 46,
						"Padding": 3,
						"Marker": "NA==",
						"Num": 4
					},
					"Properties": {
						"id": "20210708004534-mwokq1s"
					},
					"Children": [
						{
							"ID": "20210708004534-zaxytmd",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-zaxytmd"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "请求部分同步数据"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-i5u2zph",
					"Type": "NodeListItem",
					"Data": "5",
					"ListData": {
						"Typ": 1,
						"Tight": true,
						"Start": 5,
						"Delimiter": 46,
						"Padding": 3,
						"Marker": "NQ==",
						"Num": 5
					},
					"Properties": {
						"id": "20210708004534-i5u2zph"
					},
					"Children": [
						{
							"ID": "20210708004534-kkfjgm3",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-kkfjgm3"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "恢复部分同步数据。至此，数据同步工作完成!"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-qjr1q9b",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-qjr1q9b"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "此时状态："
				}
			]
		},
		{
			"ID": "20210708004534-kbelmls",
			"Type": "NodeList",
			"ListData": {
				"Tight": true,
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-kbelmls"
			},
			"Children": [
				{
					"ID": "20210708004534-cvra0nu",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-cvra0nu"
					},
					"Children": [
						{
							"ID": "20210708004534-89o5d06",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-89o5d06"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "slave：具有 master 端全部数据，包含 RDB 过程接收的数据"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-5gfv9ct",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-5gfv9ct"
					},
					"Children": [
						{
							"ID": "20210708004534-n8ba2bk",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-n8ba2bk"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "master："
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "保存 slave 当前数据同步的位置"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-hyjt6pk",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-hyjt6pk"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "数据同步阶段 master 说明"
				}
			]
		},
		{
			"ID": "20210708004534-si7nj0x",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-si7nj0x"
			},
			"Children": [
				{
					"ID": "20210708004534-j6uvlh8",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-j6uvlh8"
					},
					"Children": [
						{
							"ID": "20210708004534-ps8wlfr",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-ps8wlfr"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "如果 master 数据量巨大，数据同步阶段应"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "避开流量高峰期"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "，避免造成 master 阻塞，影响业务正常执行。如新增 slave 节点"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-dzyp0iu",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-dzyp0iu"
					},
					"Children": [
						{
							"ID": "20210708004534-vhh43ax",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-vhh43ax"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "复制缓冲区大小设定不合理，会导致数据溢出。如进行全量复制周期太长，进行部分复制时发现数据已经存在丢失的情况，必须进行第二次全量复制，致使 slave 陷入死循环状态。"
								}
							]
						},
						{
							"ID": "20210708004534-uifnmou",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"CodeBlockFenceChar": 96,
							"CodeBlockFenceLen": 3,
							"CodeBlockOpenFence": "YGBg",
							"CodeBlockCloseFence": "YGBg",
							"Properties": {
								"id": "20210708004534-uifnmou"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker"
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "repl-backlog-size 1mb\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-6rixdus",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-6rixdus"
					},
					"Children": [
						{
							"ID": "20210708004534-9tvcnf8",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-9tvcnf8"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "master 单机内存占用主机内存的比例不应过大，建议使用 50%-70%的内存，留下 30%-50%的内存用于执 行 bgsave 命令和创建复制缓冲区"
								}
							]
						},
						{
							"ID": "20210708004534-8am49up",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-8am49up"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "\u003cimg src=\"../assets/image-20210325231720445.png\" alt=\"image-20210325231720445\" style=\"zoom：50%;\" /\u003e"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-mml8itw",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-mml8itw"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "数据同步阶段 slave 说明"
				}
			]
		},
		{
			"ID": "20210708004534-whba2qv",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-whba2qv"
			},
			"Children": [
				{
					"ID": "20210708004534-howo84l",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-howo84l"
					},
					"Children": [
						{
							"ID": "20210708004534-z9e3wep",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-z9e3wep"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "为避免 slave 进行全量复制、部分复制时服务器响应阻塞或数据不同步，建议关闭此期间的对外服务"
								}
							]
						},
						{
							"ID": "20210708004534-5l2ar8c",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"CodeBlockFenceChar": 96,
							"CodeBlockFenceLen": 3,
							"CodeBlockOpenFence": "YGBg",
							"CodeBlockCloseFence": "YGBg",
							"Properties": {
								"id": "20210708004534-5l2ar8c"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker"
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "slave-serve-stale-data yes|no\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-senf6zi",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-senf6zi"
					},
					"Children": [
						{
							"ID": "20210708004534-7p5yi7v",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-7p5yi7v"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "数据同步阶段，master 发送给 slave 信息可以理解 master 是 slave 的一个客户端，主动向 slave 发送命令"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-lz6yfid",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-lz6yfid"
					},
					"Children": [
						{
							"ID": "20210708004534-9fa71r2",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-9fa71r2"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "多个 slave 同时对 master 请求数据同步，master 发送的 RDB 文件增多，会对带宽造成巨大冲击，如果 master 带宽不足，因此数据同步需要根据业务需求，适量错峰"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-1u722rl",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-1u722rl"
					},
					"Children": [
						{
							"ID": "20210708004534-nwhejbg",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-nwhejbg"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "slave 过多时，建议调整拓扑结构，由一主多从结构变为树状结构，中间的节点既是 master，也是 slave。注意使用树状结构时，由于层级深度，导致深度越高的 slave 与最顶层 master 间数据同步延迟 较大，数据一致性变差，应谨慎选择"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-fmccf41",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20210708004534-fmccf41"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "## "
				},
				{
					"Type": "NodeText",
					"Data": "主从复制流程—命令传播阶段"
				}
			]
		},
		{
			"ID": "20210708004534-euztypj",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-euztypj"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "简介"
				}
			]
		},
		{
			"ID": "20210708004534-m9j5lur",
			"Type": "NodeList",
			"ListData": {
				"Tight": true,
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-m9j5lur"
			},
			"Children": [
				{
					"ID": "20210708004534-w1s3iob",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-w1s3iob"
					},
					"Children": [
						{
							"ID": "20210708004534-uyzwv7d",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-uyzwv7d"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "当 master 数据库状态被修改后，导致主从服务器数据库状态不一致，此时需要让主从数据同步到一致的状态，同步的动作称为命令传播"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-jltrttj",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-jltrttj"
					},
					"Children": [
						{
							"ID": "20210708004534-ib84i7x",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-ib84i7x"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "master 将接收到的数据变更命令发送给 slave，slave 接收命令后执行命令"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-8upn7e5",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-8upn7e5"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "命令传播阶段的部分复制"
				}
			]
		},
		{
			"ID": "20210708004534-e3pbjs6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-e3pbjs6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "命令传播阶段出现了断网现象："
				}
			]
		},
		{
			"ID": "20210708004534-c9unbhz",
			"Type": "NodeList",
			"ListData": {
				"Tight": true,
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-c9unbhz"
			},
			"Children": [
				{
					"ID": "20210708004534-zr9l3cz",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-zr9l3cz"
					},
					"Children": [
						{
							"ID": "20210708004534-0b4wigw",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-0b4wigw"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "网络闪断闪连 忽略"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-svta9rn",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-svta9rn"
					},
					"Children": [
						{
							"ID": "20210708004534-6rfrzjg",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-6rfrzjg"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "短时间"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "网络中断 "
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "部分复制"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-hmv1pw3",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-hmv1pw3"
					},
					"Children": [
						{
							"ID": "20210708004534-6z0tt7r",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-6z0tt7r"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "长时间"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "网络中断 "
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "全量复制"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-575o33a",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-575o33a"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "部分复制的三个核心要素："
				}
			]
		},
		{
			"ID": "20210708004534-yfr2vw8",
			"Type": "NodeList",
			"ListData": {
				"Tight": true,
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-yfr2vw8"
			},
			"Children": [
				{
					"ID": "20210708004534-cjh2r32",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-cjh2r32"
					},
					"Children": [
						{
							"ID": "20210708004534-1f0wsh7",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-1f0wsh7"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "服务器的运行 id（"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "run id"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "）"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-p4v3gxv",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-p4v3gxv"
					},
					"Children": [
						{
							"ID": "20210708004534-fpz61jv",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-fpz61jv"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "主服务器的"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "复制积压缓冲区"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-tg75r9a",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-tg75r9a"
					},
					"Children": [
						{
							"ID": "20210708004534-dcpo2ss",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-dcpo2ss"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "主从服务器的"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "复制偏移量"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-g3vz9ng",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-g3vz9ng"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "服务器运行 ID—runid"
				}
			]
		},
		{
			"ID": "20210708004534-mr31b1o",
			"Type": "NodeList",
			"ListData": {
				"Tight": true,
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-mr31b1o"
			},
			"Children": [
				{
					"ID": "20210708004534-f403nk8",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-f403nk8"
					},
					"Children": [
						{
							"ID": "20210708004534-4mjgip9",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-4mjgip9"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "概念：服务器运行 ID 是每一台服务器每次运行的身份识别码，一台服务器多次运行可以生成多个运行 id"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-1vkvqah",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-1vkvqah"
					},
					"Children": [
						{
							"ID": "20210708004534-v80269g",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-v80269g"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "组成：运行 id 由"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "40 位字符"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "组成，是一个"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "随机的十六进制字符"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "。如：fdc9ff13b9bbaab28db42b3d50f852bb5e3fcdce"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-2qjspwk",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-2qjspwk"
					},
					"Children": [
						{
							"ID": "20210708004534-dxcz7w2",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-dxcz7w2"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "作用：运行 id 被用于在服务器间进行传输，"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "识别身份"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "。如果想两次操作均对同一台服务器进行，必须每次操作携带对应的运行 id，用于对方识别"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-263s6vx",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-263s6vx"
					},
					"Children": [
						{
							"ID": "20210708004534-o88rwna",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-o88rwna"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "实现方式：运行 id 在每台"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "服务器启动时自动生成"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "的，"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "master"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "在"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "首次连接 slave"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "时，会将自己的运行 ID"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "发送"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "给 slave，"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "slave 保存此 ID"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "，通过 info Server 命令，可以查看节点的 runid"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-k6fq54p",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-k6fq54p"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "复制缓冲区"
				}
			]
		},
		{
			"ID": "20210708004534-5pa0nwk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-5pa0nwk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "介绍："
				}
			]
		},
		{
			"ID": "20210708004534-5z3hmif",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-5z3hmif"
			},
			"Children": [
				{
					"ID": "20210708004534-l2m9983",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-l2m9983"
					},
					"Children": [
						{
							"ID": "20210708004534-u9e0dyj",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-u9e0dyj"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "复制缓冲区，又名复制积压缓冲区，是一个先进先出("
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "FIFO"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": ")的队列，用于存储服务器执行过的命令，每次传播命令，master 都会将传播的命令记录下来，并存储在复制缓冲区。"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "对应 slave 有多少则该缓冲区有多少个"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "！"
								}
							]
						},
						{
							"ID": "20210708004534-sxtelzo",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-sxtelzo"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "复制缓冲区默认数据存储空间大小是"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "1M"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "，由于存储空间大小是固定的，当入队元素的数量大于队列长度时，最先入队的元素会"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "被弹出"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "，而新元素会被放入队列"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-wiyk2nr",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-wiyk2nr"
					},
					"Children": [
						{
							"ID": "20210708004534-l25sjn5",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-l25sjn5"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "由来：每台服务器启动时，如果开启有 AOF 或被连接成为 master 节点，即创建复制缓冲区"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-cvex1q5",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-cvex1q5"
					},
					"Children": [
						{
							"ID": "20210708004534-yvvefi9",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-yvvefi9"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "作用：用于保存 master 收到的所有指令(仅影响数据变更的指令，例如 set，select)"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-h0merez",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-h0merez"
					},
					"Children": [
						{
							"ID": "20210708004534-tcq144g",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-tcq144g"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "数据来源：当 master 接收到主客户端的指令时，除了将指令执行，会将该指令存储到缓冲区中"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-izwsqw1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-izwsqw1"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Children": [
						{
							"Type": "NodeBang",
							"Data": "!"
						},
						{
							"Type": "NodeOpenBracket",
							"Data": "["
						},
						{
							"Type": "NodeLinkText",
							"Data": "image-20210325233839851"
						},
						{
							"Type": "NodeCloseBracket",
							"Data": "]"
						},
						{
							"Type": "NodeOpenParen",
							"Data": "("
						},
						{
							"Type": "NodeLinkDest",
							"Data": "../assets/image-20210325233839851.png"
						},
						{
							"Type": "NodeCloseParen",
							"Data": ")"
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-43cx7yn",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-43cx7yn"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "主从服务器复制偏移量—offset"
				}
			]
		},
		{
			"ID": "20210708004534-0mxj9ai",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-0mxj9ai"
			},
			"Children": [
				{
					"ID": "20210708004534-r843yid",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-r843yid"
					},
					"Children": [
						{
							"ID": "20210708004534-no2og16",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-no2og16"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "概念：一个数字，描述复制缓冲区中的指令字节位置"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-q5xanh1",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-q5xanh1"
					},
					"Children": [
						{
							"ID": "20210708004534-aqgnodn",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-aqgnodn"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "分类："
								}
							]
						},
						{
							"ID": "20210708004534-7tettxx",
							"Type": "NodeList",
							"ListData": {
								"Tight": true,
								"BulletChar": 45,
								"Padding": 2,
								"Marker": "LQ==",
								"Num": -1
							},
							"Properties": {
								"id": "20210708004534-7tettxx"
							},
							"Children": [
								{
									"ID": "20210708004534-0z9rq5e",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-0z9rq5e"
									},
									"Children": [
										{
											"ID": "20210708004534-ke9bll5",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-ke9bll5"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "master 复制偏移量：记录发送给所有 slave 的指令字节对应的位置（多个）"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-8sfrddl",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-8sfrddl"
									},
									"Children": [
										{
											"ID": "20210708004534-phlarvc",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-phlarvc"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "slave 复制偏移量：记录 slave 接收 master 发送过来的指令字节对应的位置（一个）"
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-5q5lho0",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-5q5lho0"
					},
					"Children": [
						{
							"ID": "20210708004534-vcyd5x9",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-vcyd5x9"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "数据来源"
								}
							]
						},
						{
							"ID": "20210708004534-iqetl1p",
							"Type": "NodeList",
							"ListData": {
								"Tight": true,
								"BulletChar": 45,
								"Padding": 2,
								"Marker": "LQ==",
								"Num": -1
							},
							"Properties": {
								"id": "20210708004534-iqetl1p"
							},
							"Children": [
								{
									"ID": "20210708004534-gc27mpm",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-gc27mpm"
									},
									"Children": [
										{
											"ID": "20210708004534-blc26ut",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-blc26ut"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "master 端：发送一次记录一次"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-r344oz2",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-r344oz2"
									},
									"Children": [
										{
											"ID": "20210708004534-257xse1",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-257xse1"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "slave 端：接收一次记录一次"
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-2on0uaz",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-2on0uaz"
					},
					"Children": [
						{
							"ID": "20210708004534-x9vy0kc",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-x9vy0kc"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "作用：同步信息，比对 master 与 slave 的差异，当 slave 断线后，恢复数据使用"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-hndgwvf",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20210708004534-hndgwvf"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "## "
				},
				{
					"Type": "NodeText",
					"Data": "数据同步+命令传播阶段工作流程 🔥"
				}
			]
		},
		{
			"ID": "20210708004534-gr471ri",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-gr471ri"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Children": [
						{
							"Type": "NodeBang",
							"Data": "!"
						},
						{
							"Type": "NodeOpenBracket",
							"Data": "["
						},
						{
							"Type": "NodeLinkText",
							"Data": "image-20210325234659502"
						},
						{
							"Type": "NodeCloseBracket",
							"Data": "]"
						},
						{
							"Type": "NodeOpenParen",
							"Data": "("
						},
						{
							"Type": "NodeLinkDest",
							"Data": "../assets/image-20210325234659502.png"
						},
						{
							"Type": "NodeCloseParen",
							"Data": ")"
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-w3l6lup",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20210708004534-w3l6lup"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "## "
				},
				{
					"Type": "NodeText",
					"Data": "心跳机制 🔥"
				}
			]
		},
		{
			"ID": "20210708004534-4oskmgb",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-4oskmgb"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "简介"
				}
			]
		},
		{
			"ID": "20210708004534-vimr9mf",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-vimr9mf"
			},
			"Children": [
				{
					"ID": "20210708004534-1kt72gq",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-1kt72gq"
					},
					"Children": [
						{
							"ID": "20210708004534-uwcdi46",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-uwcdi46"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "进入命令传播阶段候，master 与 slave 间需要进行信息交换，使用心跳机制进行维护，实现双方连接保持在线"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-9c28lgs",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-9c28lgs"
					},
					"Children": [
						{
							"ID": "20210708004534-5ym0vi4",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-5ym0vi4"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "master 心跳："
								}
							]
						},
						{
							"ID": "20210708004534-kli83ri",
							"Type": "NodeList",
							"ListData": {
								"Tight": true,
								"BulletChar": 45,
								"Padding": 2,
								"Marker": "LQ==",
								"Num": -1
							},
							"Properties": {
								"id": "20210708004534-kli83ri"
							},
							"Children": [
								{
									"ID": "20210708004534-mu9p13w",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-mu9p13w"
									},
									"Children": [
										{
											"ID": "20210708004534-eamzo83",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-eamzo83"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "指令：PING"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-8mxih2b",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-8mxih2b"
									},
									"Children": [
										{
											"ID": "20210708004534-dltmoh9",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-dltmoh9"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "周期：由"
												},
												{
													"Type": "NodeCodeSpan",
													"CodeMarkerLen": 1,
													"Children": [
														{
															"Type": "NodeCodeSpanOpenMarker",
															"Data": "`"
														},
														{
															"Type": "NodeCodeSpanContent",
															"Data": "repl-ping-slave-period"
														},
														{
															"Type": "NodeCodeSpanCloseMarker",
															"Data": "`"
														}
													]
												},
												{
													"Type": "NodeText",
													"Data": "决定，默认 10 秒"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-9yku3ld",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-9yku3ld"
									},
									"Children": [
										{
											"ID": "20210708004534-e4e4o6y",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-e4e4o6y"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "作用：判断 slave 是否在线"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-psxarlu",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-psxarlu"
									},
									"Children": [
										{
											"ID": "20210708004534-bum4q0e",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-bum4q0e"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "查询：INFO replication 获取 slave 最后一次"
												},
												{
													"Type": "NodeStrong",
													"Children": [
														{
															"Type": "NodeStrongA6kOpenMarker",
															"Data": "**"
														},
														{
															"Type": "NodeText",
															"Data": "连接时间间隔"
														},
														{
															"Type": "NodeStrongA6kCloseMarker",
															"Data": "**"
														}
													]
												},
												{
													"Type": "NodeText",
													"Data": "，lag 项维持在 0 或 1 视为正常"
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-fwyan42",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-fwyan42"
					},
					"Children": [
						{
							"ID": "20210708004534-hq818ds",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-hq818ds"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "slave 心跳任务："
								}
							]
						},
						{
							"ID": "20210708004534-qiy32h5",
							"Type": "NodeList",
							"ListData": {
								"Tight": true,
								"BulletChar": 45,
								"Padding": 2,
								"Marker": "LQ==",
								"Num": -1
							},
							"Properties": {
								"id": "20210708004534-qiy32h5"
							},
							"Children": [
								{
									"ID": "20210708004534-08k5xa0",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-08k5xa0"
									},
									"Children": [
										{
											"ID": "20210708004534-1enge3s",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-1enge3s"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "指令："
												},
												{
													"Type": "NodeCodeSpan",
													"CodeMarkerLen": 1,
													"Children": [
														{
															"Type": "NodeCodeSpanOpenMarker",
															"Data": "`"
														},
														{
															"Type": "NodeCodeSpanContent",
															"Data": "REPLCONF ACK {offset}"
														},
														{
															"Type": "NodeCodeSpanCloseMarker",
															"Data": "`"
														}
													]
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-lv05exm",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-lv05exm"
									},
									"Children": [
										{
											"ID": "20210708004534-sbuhwe5",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-sbuhwe5"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "周期：1 秒"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-x889q30",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-x889q30"
									},
									"Children": [
										{
											"ID": "20210708004534-4vopln0",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-4vopln0"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "作用 1：汇报 slave 自己的复制偏移量，获取最新的数据变更指令"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-ekr6vrl",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-ekr6vrl"
									},
									"Children": [
										{
											"ID": "20210708004534-5exbyj0",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-5exbyj0"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "作用 2：判断 master 是否在线"
												}
											]
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-tetlnko",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-tetlnko"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "注意"
				}
			]
		},
		{
			"ID": "20210708004534-f65mkai",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-f65mkai"
			},
			"Children": [
				{
					"ID": "20210708004534-b6xvz3q",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-b6xvz3q"
					},
					"Children": [
						{
							"ID": "20210708004534-yqiyvjg",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-yqiyvjg"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "当 slave 多数掉线，或延迟过高时，master 为保障数据稳定性，将拒绝所有信息同步操作"
								}
							]
						},
						{
							"ID": "20210708004534-5sq48fy",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"CodeBlockFenceChar": 96,
							"CodeBlockFenceLen": 3,
							"CodeBlockOpenFence": "YGBg",
							"CodeBlockCloseFence": "YGBg",
							"Properties": {
								"id": "20210708004534-5sq48fy"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker"
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "min-slaves-to-write 2\nmin-slaves-max-lag 10\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								}
							]
						},
						{
							"ID": "20210708004534-ipg7oct",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-ipg7oct"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "slave 数量少于 2 个"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "，或者"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "所有 slave 的延迟都大于等于 10 秒"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "时，强制关闭 master 写功能，停止数据同步（写没意义）"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-rylv3v2",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-rylv3v2"
					},
					"Children": [
						{
							"ID": "20210708004534-jftr4tm",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-jftr4tm"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "slave 数量由 slave 发送 REPLCONF ACK 命令做确认"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-sfkf6gl",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-sfkf6gl"
					},
					"Children": [
						{
							"ID": "20210708004534-ljf7jtj",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-ljf7jtj"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "slave 延迟由 slave 发送 REPLCONF ACK 命令做确认"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-e2cdx15",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20210708004534-e2cdx15"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "## "
				},
				{
					"Type": "NodeText",
					"Data": "主从复制工作流程（完整）🔥"
				}
			]
		},
		{
			"ID": "20210708004534-06d7763",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-06d7763"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "建立连接+数据同步见上面的"
				}
			]
		},
		{
			"ID": "20210708004534-of49qd3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-of49qd3"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Children": [
						{
							"Type": "NodeBang",
							"Data": "!"
						},
						{
							"Type": "NodeOpenBracket",
							"Data": "["
						},
						{
							"Type": "NodeLinkText",
							"Data": "image-20210325235745239"
						},
						{
							"Type": "NodeCloseBracket",
							"Data": "]"
						},
						{
							"Type": "NodeOpenParen",
							"Data": "("
						},
						{
							"Type": "NodeLinkDest",
							"Data": "../assets/image-20210325235745239.png"
						},
						{
							"Type": "NodeCloseParen",
							"Data": ")"
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-vyhq64g",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-vyhq64g"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "注意，① 发送的命令在数据同步和命令传播阶段不同"
				}
			]
		},
		{
			"ID": "20210708004534-4oa5rpb",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20210708004534-4oa5rpb"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "## "
				},
				{
					"Type": "NodeText",
					"Data": "常见问题"
				}
			]
		},
		{
			"ID": "20210708004534-z9c3fbv",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-z9c3fbv"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "频繁的全量复制 1"
				}
			]
		},
		{
			"ID": "20210708004534-56njgcf",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-56njgcf"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "伴随着系统的运行，master 的数据量会越来越大，一旦"
				},
				{
					"Type": "NodeStrong",
					"Children": [
						{
							"Type": "NodeStrongA6kOpenMarker",
							"Data": "**"
						},
						{
							"Type": "NodeText",
							"Data": "master 重启，runid 将发生变化"
						},
						{
							"Type": "NodeStrongA6kCloseMarker",
							"Data": "**"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "，会"
				},
				{
					"Type": "NodeStrong",
					"Children": [
						{
							"Type": "NodeStrongA6kOpenMarker",
							"Data": "**"
						},
						{
							"Type": "NodeText",
							"Data": "导致全部 slave 的全量复制"
						},
						{
							"Type": "NodeStrongA6kCloseMarker",
							"Data": "**"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "操作"
				}
			]
		},
		{
			"ID": "20210708004534-zh0x36t",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-zh0x36t"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "内部优化调整方案："
				}
			]
		},
		{
			"ID": "20210708004534-wrvrfg0",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-wrvrfg0"
			},
			"Children": [
				{
					"ID": "20210708004534-fl41sel",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-fl41sel"
					},
					"Children": [
						{
							"ID": "20210708004534-gpqsqw9",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-gpqsqw9"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "master 内部创建"
								},
								{
									"Type": "NodeCodeSpan",
									"CodeMarkerLen": 1,
									"Children": [
										{
											"Type": "NodeCodeSpanOpenMarker",
											"Data": "`"
										},
										{
											"Type": "NodeCodeSpanContent",
											"Data": "master_replid"
										},
										{
											"Type": "NodeCodeSpanCloseMarker",
											"Data": "`"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "变量，使用 runid 相同的策略生成，长度 41 位，并发送给所有 slave"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-y3oelg7",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-y3oelg7"
					},
					"Children": [
						{
							"ID": "20210708004534-k9ryjfp",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-k9ryjfp"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "在 master 关闭时执行命令 shutdown save，进行 RDB 持久化，"
								},
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "将 runid 与 offset 保存到 RDB 文件中"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						},
						{
							"ID": "20210708004534-ofr2lml",
							"Type": "NodeList",
							"ListData": {
								"Tight": true,
								"BulletChar": 45,
								"Padding": 2,
								"Marker": "LQ==",
								"Num": -1
							},
							"Properties": {
								"id": "20210708004534-ofr2lml"
							},
							"Children": [
								{
									"ID": "20210708004534-og0ggfl",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-og0ggfl"
									},
									"Children": [
										{
											"ID": "20210708004534-ujgheh9",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-ujgheh9"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "repl-id repl-offset"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-i54msiz",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-i54msiz"
									},
									"Children": [
										{
											"ID": "20210708004534-z9nf1ar",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-z9nf1ar"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "通过 redis-check-rdb dump.rdb 命令可以查看该信息"
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-wabmwty",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-wabmwty"
					},
					"Children": [
						{
							"ID": "20210708004534-1w01crq",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-1w01crq"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "master 重启后加载 RDB 文件，恢复数据。重启后，将 RDB 文件中保存的 repl-id 与 repl-offset 加载到内存中"
								}
							]
						},
						{
							"ID": "20210708004534-p82lj5x",
							"Type": "NodeList",
							"ListData": {
								"Tight": true,
								"BulletChar": 45,
								"Padding": 2,
								"Marker": "LQ==",
								"Num": -1
							},
							"Properties": {
								"id": "20210708004534-p82lj5x"
							},
							"Children": [
								{
									"ID": "20210708004534-g3rgrps",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-g3rgrps"
									},
									"Children": [
										{
											"ID": "20210708004534-7894nuv",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-7894nuv"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "master_repl_id = repl master_repl_offset = repl-offset"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-32zoyrj",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-32zoyrj"
									},
									"Children": [
										{
											"ID": "20210708004534-41jhv9e",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-41jhv9e"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "通过 info 命令可以查看该信息"
												}
											]
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-i2v9g87",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210708004534-i2v9g87"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "作用："
				},
				{
					"Type": "NodeStrong",
					"Children": [
						{
							"Type": "NodeStrongA6kOpenMarker",
							"Data": "**"
						},
						{
							"Type": "NodeText",
							"Data": "本机保存上次 runid"
						},
						{
							"Type": "NodeStrongA6kCloseMarker",
							"Data": "**"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "，重启后恢复该值，使所有 slave 认为还是之前的 master"
				}
			]
		},
		{
			"ID": "20210708004534-xehnqp6",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-xehnqp6"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "频繁的全量复制 2"
				}
			]
		},
		{
			"ID": "20210708004534-vxaglu3",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-vxaglu3"
			},
			"Children": [
				{
					"ID": "20210708004534-wzkee7p",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-wzkee7p"
					},
					"Children": [
						{
							"ID": "20210708004534-twa9lbm",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-twa9lbm"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "问题现象"
								},
								{
									"Type": "NodeSoftBreak",
									"Data": "\n"
								},
								{
									"Type": "NodeText",
									"Data": "网络环境不佳，出现网络中断，slave 不提供服务"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-tk8d5ug",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-tk8d5ug"
					},
					"Children": [
						{
							"ID": "20210708004534-jxncrwl",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-jxncrwl"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "问题原因"
								}
							]
						},
						{
							"ID": "20210708004534-cghjbf9",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-cghjbf9"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "复制缓冲区过小，断网后 slave 的 offset 越界，触发全量复制"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-b647rqn",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-b647rqn"
					},
					"Children": [
						{
							"ID": "20210708004534-tyr9zqr",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-tyr9zqr"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "最终结果"
								}
							]
						},
						{
							"ID": "20210708004534-7cwmmju",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-7cwmmju"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "slave 反复进行全量复制"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-90bgpoc",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-90bgpoc"
					},
					"Children": [
						{
							"ID": "20210708004534-2498x3u",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-2498x3u"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "解决方案"
								},
								{
									"Type": "NodeSoftBreak",
									"Data": "\n"
								},
								{
									"Type": "NodeText",
									"Data": "修改复制缓冲区大小"
								}
							]
						},
						{
							"ID": "20210708004534-l46aotn",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"CodeBlockFenceChar": 96,
							"CodeBlockFenceLen": 3,
							"CodeBlockOpenFence": "YGBg",
							"CodeBlockCloseFence": "YGBg",
							"Properties": {
								"id": "20210708004534-l46aotn"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker"
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "repl-backlog-size\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-s0mvoan",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-s0mvoan"
					},
					"Children": [
						{
							"ID": "20210708004534-6vdqkfh",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-6vdqkfh"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "建议设置如下"
								}
							]
						},
						{
							"ID": "20210708004534-jatft9i",
							"Type": "NodeList",
							"ListData": {
								"Tight": true,
								"BulletChar": 45,
								"Padding": 2,
								"Marker": "LQ==",
								"Num": -1
							},
							"Properties": {
								"id": "20210708004534-jatft9i"
							},
							"Children": [
								{
									"ID": "20210708004534-sbungnb",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-sbungnb"
									},
									"Children": [
										{
											"ID": "20210708004534-0axzlr5",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-0axzlr5"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "测算从 master 到 slave 的重连平均时长 second"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-7tyr9aq",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-7tyr9aq"
									},
									"Children": [
										{
											"ID": "20210708004534-nmixwbl",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-nmixwbl"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "获取 master 平均每秒产生写命令数据总量 write_size_per_second"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-eqa9ail",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-eqa9ail"
									},
									"Children": [
										{
											"ID": "20210708004534-k0bt0pj",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-k0bt0pj"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "最优复制缓冲区空间 = 2 _ second _ write_size_per_second"
												}
											]
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-42cwltk",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-42cwltk"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "频繁的网络中断 1"
				}
			]
		},
		{
			"ID": "20210708004534-t5axuq9",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-t5axuq9"
			},
			"Children": [
				{
					"ID": "20210708004534-fj0ap7l",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-fj0ap7l"
					},
					"Children": [
						{
							"ID": "20210708004534-7h6if7w",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-7h6if7w"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "问题现象"
								},
								{
									"Type": "NodeSoftBreak",
									"Data": "\n"
								},
								{
									"Type": "NodeText",
									"Data": "master 的 CPU 占用过高 或 slave 频繁断开连接"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-7u46nxk",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-7u46nxk"
					},
					"Children": [
						{
							"ID": "20210708004534-swhfi76",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-swhfi76"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "问题原因"
								}
							]
						},
						{
							"ID": "20210708004534-81imke1",
							"Type": "NodeList",
							"ListData": {
								"Tight": true,
								"BulletChar": 45,
								"Padding": 2,
								"Marker": "LQ==",
								"Num": -1
							},
							"Properties": {
								"id": "20210708004534-81imke1"
							},
							"Children": [
								{
									"ID": "20210708004534-4lm1jqr",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-4lm1jqr"
									},
									"Children": [
										{
											"ID": "20210708004534-ssb66cn",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-ssb66cn"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "slave 每 1 秒发送 REPLCONF ACK 命令到 master"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-3ljzy3o",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-3ljzy3o"
									},
									"Children": [
										{
											"ID": "20210708004534-w79fpgj",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-w79fpgj"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "当 slave 接到了慢查询时(keys "
												},
												{
													"Type": "NodeBackslash",
													"Children": [
														{
															"Type": "NodeBackslashContent",
															"Data": "*"
														}
													]
												},
												{
													"Type": "NodeText",
													"Data": " ，hgetall 等)，会大量占用 CPU 性能"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-jbqosq9",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-jbqosq9"
									},
									"Children": [
										{
											"ID": "20210708004534-y4fl8wf",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-y4fl8wf"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "master 每 1 秒调用复制定时函数 replicationCron()，比对 slave 发现长时间没有进行响应"
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-e5lkb9w",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-e5lkb9w"
					},
					"Children": [
						{
							"ID": "20210708004534-ub0kl8i",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-ub0kl8i"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "最终结果"
								},
								{
									"Type": "NodeSoftBreak",
									"Data": "\n"
								},
								{
									"Type": "NodeText",
									"Data": "master 各种资源(输出缓冲区、带宽、连接等)被严重占用"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-epdm3fx",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-epdm3fx"
					},
					"Children": [
						{
							"ID": "20210708004534-c4udwf5",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-c4udwf5"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "解决方案"
								},
								{
									"Type": "NodeSoftBreak",
									"Data": "\n"
								},
								{
									"Type": "NodeText",
									"Data": "通过设置合理的超时时间，确认是否释放 slave"
								}
							]
						},
						{
							"ID": "20210708004534-dcnew9q",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"CodeBlockFenceChar": 96,
							"CodeBlockFenceLen": 3,
							"CodeBlockOpenFence": "YGBg",
							"CodeBlockCloseFence": "YGBg",
							"Properties": {
								"id": "20210708004534-dcnew9q"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker"
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "repl-timeout\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								}
							]
						},
						{
							"ID": "20210708004534-4zf7o9y",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-4zf7o9y"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "该参数定义了超时时间的阈值(默认 60 秒)，超过该值，释放 slave"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-5rz9b47",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-5rz9b47"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "频繁的网络中断 2"
				}
			]
		},
		{
			"ID": "20210708004534-vzqaeve",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-vzqaeve"
			},
			"Children": [
				{
					"ID": "20210708004534-omem191",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-omem191"
					},
					"Children": [
						{
							"ID": "20210708004534-ic0zuf3",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-ic0zuf3"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "问题现象"
								}
							]
						},
						{
							"ID": "20210708004534-wgkmc4z",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-wgkmc4z"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "slave 与 master 连接断开"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-p9pjvec",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-p9pjvec"
					},
					"Children": [
						{
							"ID": "20210708004534-6r8kbai",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-6r8kbai"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "问题原因"
								}
							]
						},
						{
							"ID": "20210708004534-7jprfdd",
							"Type": "NodeList",
							"ListData": {
								"Tight": true,
								"BulletChar": 45,
								"Padding": 2,
								"Marker": "LQ==",
								"Num": -1
							},
							"Properties": {
								"id": "20210708004534-7jprfdd"
							},
							"Children": [
								{
									"ID": "20210708004534-w88my5x",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-w88my5x"
									},
									"Children": [
										{
											"ID": "20210708004534-hswiman",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-hswiman"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "master 发送 ping 指令频度较低"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-tbit7bv",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-tbit7bv"
									},
									"Children": [
										{
											"ID": "20210708004534-73umyr7",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-73umyr7"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "master 设定超时时间较短"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-heqwt33",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-heqwt33"
									},
									"Children": [
										{
											"ID": "20210708004534-7aekqpq",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-7aekqpq"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "ping 指令在网络中存在丢包"
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-xtw037t",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-xtw037t"
					},
					"Children": [
						{
							"ID": "20210708004534-urlo6g2",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-urlo6g2"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "解决方案"
								}
							]
						},
						{
							"ID": "20210708004534-6akvy9j",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-6akvy9j"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "提高 ping 指令发送的频度"
								}
							]
						},
						{
							"ID": "20210708004534-vih3ebg",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"CodeBlockFenceChar": 96,
							"CodeBlockFenceLen": 3,
							"CodeBlockOpenFence": "YGBg",
							"CodeBlockCloseFence": "YGBg",
							"Properties": {
								"id": "20210708004534-vih3ebg"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker"
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "repl-ping-slave-period\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```",
									"CodeBlockFenceLen": 3
								}
							]
						},
						{
							"ID": "20210708004534-n56wvw4",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-n56wvw4"
							},
							"Children": [
								{
									"Type": "NodeStrong",
									"Children": [
										{
											"Type": "NodeStrongA6kOpenMarker",
											"Data": "**"
										},
										{
											"Type": "NodeText",
											"Data": "超时时间 repl-time 的时间至少是 ping 指令频度的 5 到 10 倍，否则 slave 很容易判定超时"
										},
										{
											"Type": "NodeStrongA6kCloseMarker",
											"Data": "**"
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210708004534-he9e5rh",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210708004534-he9e5rh"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "数据不一致"
				}
			]
		},
		{
			"ID": "20210708004534-d6ngk2f",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210708004534-d6ngk2f"
			},
			"Children": [
				{
					"ID": "20210708004534-kx3v3b5",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-kx3v3b5"
					},
					"Children": [
						{
							"ID": "20210708004534-rksudfl",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-rksudfl"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "问题现象"
								}
							]
						},
						{
							"ID": "20210708004534-k2un94e",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-k2un94e"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "多个 slave 获取相同数据不同步"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-t9vg1f1",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-t9vg1f1"
					},
					"Children": [
						{
							"ID": "20210708004534-f23lg17",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-f23lg17"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "问题原因"
								}
							]
						},
						{
							"ID": "20210708004534-4bj68s1",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-4bj68s1"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "网络信息不同步，数据发送有延迟"
								}
							]
						}
					]
				},
				{
					"ID": "20210708004534-6q69am2",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210708004534-6q69am2"
					},
					"Children": [
						{
							"ID": "20210708004534-ion7ido",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210708004534-ion7ido"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "解决方案"
								}
							]
						},
						{
							"ID": "20210708004534-ku2vf4i",
							"Type": "NodeList",
							"ListData": {
								"BulletChar": 45,
								"Padding": 2,
								"Marker": "LQ==",
								"Num": -1
							},
							"Properties": {
								"id": "20210708004534-ku2vf4i"
							},
							"Children": [
								{
									"ID": "20210708004534-fk1gaks",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-fk1gaks"
									},
									"Children": [
										{
											"ID": "20210708004534-d263adp",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-d263adp"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "优化主从间的网络环境，通常放置在同一个机房部署，如使用阿里云等云服务器时要注意此现象"
												}
											]
										}
									]
								},
								{
									"ID": "20210708004534-lit6qv6",
									"Type": "NodeListItem",
									"Data": "-",
									"ListData": {
										"Tight": true,
										"BulletChar": 45,
										"Padding": 2,
										"Marker": "LQ==",
										"Num": -1
									},
									"Properties": {
										"id": "20210708004534-lit6qv6"
									},
									"Children": [
										{
											"ID": "20210708004534-pem1xbl",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-pem1xbl"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "监控主从节点延迟(通过 offset)判断，如果 slave 延迟过大，暂时屏蔽程序对该 slave 的数据访问"
												}
											]
										},
										{
											"ID": "20210708004534-b1fnozt",
											"Type": "NodeCodeBlock",
											"IsFencedCodeBlock": true,
											"CodeBlockFenceChar": 96,
											"CodeBlockFenceLen": 3,
											"CodeBlockOpenFence": "YGBg",
											"CodeBlockCloseFence": "YGBg",
											"Properties": {
												"id": "20210708004534-b1fnozt"
											},
											"Children": [
												{
													"Type": "NodeCodeBlockFenceOpenMarker",
													"Data": "```",
													"CodeBlockFenceLen": 3
												},
												{
													"Type": "NodeCodeBlockFenceInfoMarker"
												},
												{
													"Type": "NodeCodeBlockCode",
													"Data": "slave-serve-stale-data yes|no\n"
												},
												{
													"Type": "NodeCodeBlockFenceCloseMarker",
													"Data": "```",
													"CodeBlockFenceLen": 3
												}
											]
										},
										{
											"ID": "20210708004534-porhaw6",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20210708004534-porhaw6"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "开启后仅响应 info、slaveof 等少数命令(慎用，除非对数据一致性要求很高)"
												}
											]
										}
									]
								}
							]
						}
					]
				}
			]
		}
	]
}