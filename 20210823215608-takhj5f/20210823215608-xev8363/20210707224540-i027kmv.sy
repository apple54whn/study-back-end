{
	"ID": "20210707224540-i027kmv",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20210707224540-i027kmv",
		"title": "9001.å¹¶å‘è®¾è®¡æ¨¡å¼",
		"type": "doc"
	},
	"Children": [
		{
			"ID": "20210707224540-kuw37zw",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20210707224540-kuw37zw"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "## "
				},
				{
					"Type": "NodeText",
					"Data": "ä¸¤é˜¶æ®µç»ˆæ­¢â€”Two Phase Termination"
				}
			]
		},
		{
			"ID": "20210707224540-1lgfz4k",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210707224540-1lgfz4k"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "ç”¨å¤„"
				}
			]
		},
		{
			"ID": "20210707224540-9070ayy",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-9070ayy"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "åœ¨ä¸€ä¸ªçº¿ç¨‹ T1 ä¸­å¦‚ä½•â€œä¼˜é›…â€ç»ˆæ­¢çº¿ç¨‹ T2ï¼Ÿè¿™é‡Œçš„ã€ä¼˜é›…ã€‘æŒ‡çš„æ˜¯ç»™ T2 ä¸€ä¸ªæ–™ç†åäº‹çš„æœºä¼šã€‚"
				}
			]
		},
		{
			"ID": "20210707224540-b1tkuqa",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210707224540-b1tkuqa"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "é”™è¯¯æ€è·¯"
				}
			]
		},
		{
			"ID": "20210707224540-vxoxl6y",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210707224540-vxoxl6y"
			},
			"Children": [
				{
					"ID": "20210707224540-ol6v4wm",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210707224540-ol6v4wm"
					},
					"Children": [
						{
							"ID": "20210707224540-nnsihcn",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-nnsihcn"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "ä½¿ç”¨çº¿ç¨‹å¯¹è±¡çš„ stop() æ–¹æ³•åœæ­¢çº¿ç¨‹"
								}
							]
						},
						{
							"ID": "20210707224540-tilqj5l",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-tilqj5l"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "stop æ–¹æ³•ä¼šçœŸæ­£æ€æ­»çº¿ç¨‹ï¼Œå¦‚æœè¿™æ—¶çº¿ç¨‹"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "é”"
								},
								{
									"Type": "NodeText",
									"Data": "ä½äº†å…±äº«èµ„æºï¼Œé‚£ä¹ˆå½“å®ƒè¢«æ€æ­»åå°±å†ä¹Ÿæ²¡æœ‰æœºä¼šé‡Šæ”¾é”ï¼Œå…¶å®ƒçº¿ç¨‹å°†æ°¸è¿œæ— æ³•è·å–é”"
								}
							]
						}
					]
				},
				{
					"ID": "20210707224540-d5zpcyn",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210707224540-d5zpcyn"
					},
					"Children": [
						{
							"ID": "20210707224540-nfbnz13",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-nfbnz13"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "ä½¿ç”¨ System.exit(int) æ–¹æ³•åœæ­¢çº¿ç¨‹"
								}
							]
						},
						{
							"ID": "20210707224540-0p6vquq",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-0p6vquq"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "ç›®çš„ä»…æ˜¯åœæ­¢ä¸€ä¸ªçº¿ç¨‹ï¼Œä½†è¿™ç§åšæ³•ä¼šè®©æ•´ä¸ªç¨‹åºéƒ½åœæ­¢"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210707224540-2pss387",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210707224540-2pss387"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "ä¸¤é˜¶æ®µç»ˆæ­¢æ¨¡å¼"
				}
			]
		},
		{
			"ID": "20210707224540-7hrltz9",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockInfo": "bWVybWFpZA==",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-7hrltz9"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "bWVybWFpZA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "graph TD\nw(\"while(true)\") --\u003e a\na(æœ‰æ²¡æœ‰è¢«æ‰“æ–­?) -- æ˜¯ --\u003e b(æ–™ç†åäº‹)\nb --\u003e c((ç»“æŸå¾ªç¯))\na -- å¦ --\u003e d(\"ç¡çœ 2s(sleepã€joinã€waitä¸­è¢«æ‰“æ–­çš„ä¼šæŠ›å¼‚å¸¸)\")\nd -- æ— å¼‚å¸¸ --\u003e e(è®¾ç½®ç›‘æ§è®°å½•)\nd -- æœ‰å¼‚å¸¸ --\u003e i(é‡æ–°è®¾ç½®æ‰“æ–­æ ‡è®°)\ni --\u003e w\ne --\u003e w\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-p4qvopq",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210707224540-p4qvopq"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "interrupt å®ç° ğŸ”¥"
				}
			]
		},
		{
			"ID": "20210707224540-w8hf03u",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockInfo": "amF2YQ==",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-w8hf03u"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "amF2YQ=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "@Slf4j(topic = \"TwoPhaseTermination\")\npublic class TwoPhaseTermination {\n\n\n    /* ç›‘æ§çº¿ç¨‹ */\n    private Thread monitor;\n\n    /**\n     * å¯åŠ¨ç›‘æ§çº¿ç¨‹\n     */\n    public void start(){\n        monitor = new Thread(()-\u003e{\n            Thread currentThread = Thread.currentThread();\n            while (true){\n                boolean flag = currentThread.isInterrupted();\n                if (flag){\n                    log.debug(\"æ–™ç†åäº‹ï¼Œä¼˜é›…åœæœº\");\n                    break;\n                }\n\n                try {\n                    // 1 æ­£å¸¸æƒ…å†µï¼Œè¢«æ‰“æ–­æ— éœ€é¢å¤–å¤„ç†\n                    log.debug(\"æ‰§è¡Œç›‘æ§è®°å½•\");\n                    // 2 éæ­£å¸¸æƒ…å†µï¼Œåœ¨ sleepã€joinã€wait ä¸­è¢«ä¸­æ–­\n                    // æ¯1ç§’æ‰§è¡Œä¸€æ¬¡ï¼Œé‡Šæ”¾CPUï¼Œæ‰€ä»¥sleep\n                    TimeUnit.SECONDS.sleep(1);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                    // ç”±äº catch InterruptedException åä¼šæ¸…é™¤ä¸­æ–­æ ‡å¿—ï¼Œæ‰€ä»¥éœ€è¦é‡è®¾ä¸­æ–­æ ‡å¿—\n                    currentThread.interrupt();\n                }\n\n            }\n        });\n\n        monitor.start();\n    }\n\n    /**\n     * ä¼˜é›…åœæ­¢ç›‘æ§çº¿ç¨‹\n     */\n    public void stop(){\n        monitor.interrupt();\n    }\n\n\n    public static void main(String[] args) throws InterruptedException {\n        TwoPhaseTermination tpt = new TwoPhaseTermination();\n        tpt.start();\n        TimeUnit.SECONDS.sleep(3);\n        tpt.stop();\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-tziiz5e",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210707224540-tziiz5e"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "volitile å®ç° ğŸ”¥"
				}
			]
		},
		{
			"ID": "20210707224540-7ui77kp",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockInfo": "amF2YQ==",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-7ui77kp"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "amF2YQ=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-xb4indk",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20210707224540-xb4indk"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "## "
				},
				{
					"Type": "NodeText",
					"Data": "åŒæ­¥æ¨¡å¼â€”ä¿æŠ¤ï¼ˆç›‘æ§ï¼‰æ€§æš‚åœâ€”Guarded Suspension"
				}
			]
		},
		{
			"ID": "20210707224540-6hm7gid",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210707224540-6hm7gid"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "å®šä¹‰"
				}
			]
		},
		{
			"ID": "20210707224540-egun77i",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-egun77i"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "å³ Guardedï¼ˆç›‘æ§ï¼‰ Suspensionï¼ˆæš‚åœï¼‰ï¼Œç”¨åœ¨ä¸€ä¸ªçº¿ç¨‹ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹çš„æ‰§è¡Œç»“æœ"
				}
			]
		},
		{
			"ID": "20210707224540-jtqnobr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-jtqnobr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "è¦ç‚¹ï¼š"
				}
			]
		},
		{
			"ID": "20210707224540-ytawnqa",
			"Type": "NodeList",
			"ListData": {
				"Tight": true,
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210707224540-ytawnqa"
			},
			"Children": [
				{
					"ID": "20210707224540-riky1kv",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210707224540-riky1kv"
					},
					"Children": [
						{
							"ID": "20210707224540-2syyxq5",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-2syyxq5"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "æœ‰ä¸€ä¸ª"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "ç»“æœéœ€è¦ä»ä¸€ä¸ªçº¿ç¨‹ä¼ é€’åˆ°å¦ä¸€ä¸ªçº¿ç¨‹"
								},
								{
									"Type": "NodeText",
									"Data": "ï¼Œè®©ä»–ä»¬å…³è”åŒä¸€ä¸ª "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "Guardedï¼ˆç›‘æ§ï¼‰"
								},
								{
									"Type": "NodeText",
									"Data": " Object"
								}
							]
						}
					]
				},
				{
					"ID": "20210707224540-1z64exy",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210707224540-1z64exy"
					},
					"Children": [
						{
							"ID": "20210707224540-uma1kc1",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-uma1kc1"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "å¦‚æœæœ‰ç»“æœ"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "ä¸æ–­"
								},
								{
									"Type": "NodeText",
									"Data": "ä»ä¸€ä¸ªçº¿ç¨‹åˆ°å¦ä¸€ä¸ªçº¿ç¨‹é‚£ä¹ˆå¯ä»¥ä½¿ç”¨"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆè§ç”Ÿäº§è€…/æ¶ˆè´¹è€…ï¼‰"
								}
							]
						}
					]
				},
				{
					"ID": "20210707224540-wt3y34n",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210707224540-wt3y34n"
					},
					"Children": [
						{
							"ID": "20210707224540-qxyaexc",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-qxyaexc"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "JDK ä¸­ï¼Œ"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "join çš„å®ç°ã€Future çš„å®ç°ï¼Œé‡‡ç”¨çš„å°±æ˜¯æ­¤æ¨¡å¼"
								}
							]
						}
					]
				},
				{
					"ID": "20210707224540-wwd3xej",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210707224540-wwd3xej"
					},
					"Children": [
						{
							"ID": "20210707224540-0o8fh74",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-0o8fh74"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "å› ä¸ºè¦"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "ç­‰å¾…"
								},
								{
									"Type": "NodeText",
									"Data": "å¦ä¸€æ–¹çš„ç»“æœï¼Œå› æ­¤å½’ç±»åˆ°"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "åŒæ­¥æ¨¡å¼"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210707224540-1sfuquo",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-1sfuquo"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "å¯¹æ¯” join å®ç°å¥½å¤„"
				}
			]
		},
		{
			"ID": "20210707224540-stj5j8i",
			"Type": "NodeList",
			"ListData": {
				"Tight": true,
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210707224540-stj5j8i"
			},
			"Children": [
				{
					"ID": "20210707224540-44krcen",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210707224540-44krcen"
					},
					"Children": [
						{
							"ID": "20210707224540-uslvgo4",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-uslvgo4"
							},
							"Children": [
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "ä¸‹è½½çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åè¿˜å¯ä»¥åšå…¶ä»–äº‹ï¼Œå› ä¸ºå·²ç»æœ‰ notifyAll é€šçŸ¥äº†"
								},
								{
									"Type": "NodeText",
									"Data": "ï¼›è€Œ"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "join åˆ™å¿…é¡»ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæ¯•"
								},
								{
									"Type": "NodeText",
									"Data": "ï¼"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210707224540-vaxbuik",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockInfo": "bWVybWFpZA==",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-vaxbuik"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "bWVybWFpZA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "graph TD\n\tsubgraph \"Guarded Object\"\n    go[response]\n    end\n    t1 --wait response æœ‰å€¼--\u003e go\n    t2 --\"ä»»åŠ¡å®Œæˆï¼Œä¸ºresponseèµ‹å€¼ï¼Œé€šçŸ¥t1\"--\u003e go\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-93xbls8",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210707224540-93xbls8"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "å®ç°â€”ç®€å• ğŸ”¥"
				}
			]
		},
		{
			"ID": "20210707224540-rck43hd",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockInfo": "amF2YQ==",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-rck43hd"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "amF2YQ=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "@Slf4j(topic = \"GuardedObject\")\npublic class GuardedObject {\n\n    // ç»“æœ\n    private Object response;\n\n    /**\n     * è·å–ç»“æœ\n     *\n     * @return response\n     */\n    public Object get() {\n        synchronized (this) {\n            while (response == null) {\n                try {\n                    this.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n            return response;\n        }\n    }\n\n    /**\n     * äº§ç”Ÿç»“æœ\n     *\n     * @param response response\n     */\n    public void complete(Object response) {\n        synchronized (this) {\n            // ç»™ç»“æœæˆå‘˜å˜é‡èµ‹å€¼ï¼Œå¹¶å”¤é†’ç­‰å¾…çº¿ç¨‹\n            this.response = response;\n            this.notifyAll();\n        }\n    }\n\n\n    public static void main(String[] args) {\n        test1();\n    }\n\n    private static void test1(){\n        // // æ¨¡æ‹Ÿçº¿ç¨‹1ç­‰å¾…çº¿ç¨‹2ä¸‹è½½ç»“æœ\n        GuardedObject guardedObject = new GuardedObject();\n\n        new Thread(() -\u003e {\n            // å­çº¿ç¨‹ä¸‹è½½\n            try {\n                List\u003cString\u003e download = Downloader.download();\n                log.debug(\"download complete...\");\n                guardedObject.complete(download);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }, \"download-thread\").start();\n\n        log.debug(\"waiting...\");\n        // ä¸»çº¿ç¨‹é˜»å¡ç­‰å¾…\n        Object response = guardedObject.get();\n        log.debug(\"get response: [{}] lines\", ((List\u003cString\u003e) response).size());\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-u1ctjgt",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-u1ctjgt"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ä¸‹è½½å·¥å…·ç±»ï¼š"
				}
			]
		},
		{
			"ID": "20210707224540-er90th0",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockInfo": "amF2YQ==",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-er90th0"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "amF2YQ=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "public class Downloader {\n\n    public static List\u003cString\u003e download() throws IOException {\n        URL url = new URL(\"https://www.qq.com/\");\n        URLConnection conn = url.openConnection();\n\n        ArrayList\u003cString\u003e lines = new ArrayList\u003c\u003e();\n        try (\n                BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream(), StandardCharsets.UTF_8))\n        ) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                lines.add(line);\n            }\n        }\n        return lines;\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-4g4kaek",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-4g4kaek"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "æ‰§è¡Œç»“æœï¼š"
				}
			]
		},
		{
			"ID": "20210707224540-3j0swn2",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-3j0swn2"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "17:03:36.977 [main] DEBUG GuardedObject - waiting...\n17:03:37.473 [download-thread] DEBUG GuardedObject - download complete...\n17:03:37.473 [main] DEBUG GuardedObject - get response: [1805] lines\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-07m2xg9",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210707224540-07m2xg9"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "å®ç°â€”è¶…æ—¶ ğŸ”¥"
				}
			]
		},
		{
			"ID": "20210707224540-fxkzjit",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockInfo": "amF2YQ==",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-fxkzjit"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "amF2YQ=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "@Slf4j(topic = \"GuardedObject\")\npublic class GuardedObject {\n\n    // ç»“æœ\n    private Object response;\n\n    /**\n     * è·å–ç»“æœ\n     *\n     * @param timeout ç­‰å¾…æ¯«ç§’\n     * @return response\n     */\n    public Object get(long timeout) {\n        synchronized (this) {\n            // å¼€å§‹æ—¶é—´\n            long beginTime = System.currentTimeMillis();\n            // ç»å†æ—¶é—´\n            long passTime = 0;\n            while (response == null) {\n                // è¿™ä¸€è½®å¾ªç¯å®é™…è¿˜éœ€è¦ç­‰å¾…çš„æ—¶é—´\n                long waitTime = timeout - passTime;\n                // ç»å†æ—¶é—´è¶…è¿‡äº†è®¾ç½®çš„ç­‰å¾…æœ€å¤§æ—¶é—´ï¼Œåˆ™é€€å‡ºå¾ªç¯ã€‚ä¼˜åŒ–ä¸ºè¿˜éœ€ç­‰å¾…çš„æ—¶é—´æ˜¯å¦å°äºç­‰äº0\n                if (waitTime \u003c= 0) {\n                    break;\n                }\n                try {\n                    // è¿™é‡Œåªæ˜¯ç­‰å¾…timeoutæ—¶é—´ï¼Œç­‰å¾…å®Œååˆæ‰§è¡Œå¾ªç¯ï¼Œéœ€å¤„ç†\n                    // å¹¶ä¸”è‹¥æ˜¯è™šå‡æå‰å”¤é†’ï¼Œåˆ™æ­¤æ—¶åº”è¯¥å†ç­‰çš„æ—¶é•¿åº”è¯¥å°‘äºtimeoutï¼ï¼ï¼ç”¨timeoutå‡å»å·²ç»costçš„æ—¶é•¿\n                    this.wait(waitTime);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                passTime = System.currentTimeMillis() - beginTime;// è®¡ç®—ç»å†æ—¶é—´\n            }\n            return response;\n        }\n    }\n\n    /**\n     * äº§ç”Ÿç»“æœ\n     *\n     * @param response response\n     */\n    public void complete(Object response) {\n        synchronized (this) {\n            // ç»™ç»“æœæˆå‘˜å˜é‡èµ‹å€¼ï¼Œå¹¶å”¤é†’ç­‰å¾…çº¿ç¨‹\n            this.response = response;\n            this.notifyAll();\n        }\n    }\n\n\n    public static void main(String[] args) {\n        test2();\n    }\n\n    private static void test2(){\n        // // æ¨¡æ‹Ÿçº¿ç¨‹1ç­‰å¾…çº¿ç¨‹2ä¸‹è½½ç»“æœ\n        GuardedObject guardedObject = new GuardedObject();\n\n        new Thread(() -\u003e {\n            // å­çº¿ç¨‹ä¸‹è½½\n            try {\n                TimeUnit.SECONDS.sleep(5);// æ¨¡æ‹Ÿä¸‹è½½æ—¶é—´è¿‡é•¿ï¼Œè¶…æ—¶äº†\n                List\u003cString\u003e download = Downloader.download();\n                log.debug(\"download complete...\");\n                guardedObject.complete(download);// è¿™é‡Œå¦‚æœä¼ å€¼ä¸ºnullï¼Œä¸”ä¸å¤„ç†waitTimeï¼Œåˆ™ä¼šå¤šç­‰ä¸€ä¼š\n            } catch (IOException | InterruptedException e) {\n                e.printStackTrace();\n            }\n        }, \"download-thread\").start();\n\n        log.debug(\"waiting...\");\n        // ä¸»çº¿ç¨‹é˜»å¡ç­‰å¾…\n        Object response = guardedObject.get(2000);\n        log.debug(\"get response: {}\", response);\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-xoa0mwl",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-xoa0mwl"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "æ‰§è¡Œç»“æœï¼š"
				}
			]
		},
		{
			"ID": "20210707224540-enfeeum",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-enfeeum"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "17:46:32.233 [main] DEBUG GuardedObject - waiting...\n17:46:34.237 [main] DEBUG GuardedObject - get response: null\n17:46:37.608 [download-thread] DEBUG GuardedObject - download complete...\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-rwddsy7",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210707224540-rwddsy7"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "å®ç°â€”å¤šä»»åŠ¡ç‰ˆï¼ˆå®ä¾‹ä¸å¤ªæ°å½“ï¼‰ ğŸ”¥"
				}
			]
		},
		{
			"ID": "20210707224540-66ov9l8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-66ov9l8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "è¿˜æ˜¯ä¸€å¯¹ä¸€å…³ç³»ï¼Œä¸æ˜¯ç”Ÿäº§è€…æ¶ˆè´¹è€…çš„å¤šå¯¹å¤š"
				}
			]
		},
		{
			"ID": "20210707224540-bztkszm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-bztkszm"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "å›¾ä¸­ Futures å°±å¥½æ¯”å±…æ°‘æ¥¼ä¸€å±‚çš„ä¿¡ç®±ï¼ˆæ¯ä¸ªä¿¡ç®±æœ‰æˆ¿é—´ç¼–å·ï¼‰ï¼Œå·¦ä¾§çš„ t0ï¼Œt2ï¼Œt4 å°±å¥½æ¯”ç­‰å¾…é‚®ä»¶çš„å±…æ°‘ï¼Œå³ä¾§çš„ t1ï¼Œt3ï¼Œt5 å°±å¥½æ¯”é‚®é€’å‘˜ã€‚"
				}
			]
		},
		{
			"ID": "20210707224540-0v1nsxw",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-0v1nsxw"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "å¦‚æœéœ€è¦åœ¨å¤šä¸ªç±»ä¹‹é—´ä½¿ç”¨ GuardedObject å¯¹è±¡ï¼Œä½œä¸ºå‚æ•°ä¼ é€’ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œå› æ­¤è®¾è®¡ä¸€ä¸ªç”¨æ¥è§£è€¦çš„ä¸­é—´ç±»ï¼Œè¿™æ ·ä¸ä»…èƒ½å¤Ÿè§£è€¦ã€ç»“æœç­‰å¾…è€…ã€‘å’Œã€ç»“æœç”Ÿäº§è€…ã€‘ï¼Œè¿˜èƒ½å¤ŸåŒæ—¶æ”¯æŒå¤šä¸ªä»»åŠ¡çš„ç®¡ç†ã€‚"
				}
			]
		},
		{
			"ID": "20210707224540-gr2cfqc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-gr2cfqc"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Children": [
						{
							"Type": "NodeBang",
							"Data": "!"
						},
						{
							"Type": "NodeOpenBracket",
							"Data": "["
						},
						{
							"Type": "NodeLinkText",
							"Data": "image-20210221213713212"
						},
						{
							"Type": "NodeCloseBracket",
							"Data": "]"
						},
						{
							"Type": "NodeOpenParen",
							"Data": "("
						},
						{
							"Type": "NodeLinkDest",
							"Data": "../assets/image-20210221213713212.png"
						},
						{
							"Type": "NodeCloseParen",
							"Data": ")"
						}
					]
				}
			]
		},
		{
			"ID": "20210707224540-p4xa1y0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-p4xa1y0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "å¦‚ä¸‹ç”¨é‚®ç®±çš„ä¾‹å­ä¸æ˜¯ç‰¹åˆ«æ°å½“ï¼Œ"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "å› ä¸ºå®é™…ä¸­ä¸æ˜¯ä¸€å¯¹ä¸€"
				},
				{
					"Type": "NodeText",
					"Data": "ï¼Œåº”è¯¥é‚®é€’å‘˜å°‘ï¼Œå¹¶ä¸”ç”¨æˆ·å®é™…æ˜¯åœ¨ä¸æ–­ç­‰å¾…ä¿¡ä»¶çš„"
				}
			]
		},
		{
			"ID": "20210707224540-hjau7ki",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockInfo": "amF2YQ==",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-hjau7ki"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "amF2YQ=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "@Slf4j(topic = \"GuardedObject\")\npublic class GuardedObject {\n\n    // æ ‡è¯† guarded object\n    private int id;\n\n    // ç»“æœ\n    private Object response;\n\n    public GuardedObject() { }\n\n    public GuardedObject(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    /**\n     * è·å–ç»“æœ\n     *\n     * @return response\n     */\n    public Object get() {\n        synchronized (this) {\n            while (response == null) {\n                try {\n                    this.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n            return response;\n        }\n    }\n\n    /**\n     * è·å–ç»“æœ\n     *\n     * @param timeout ç­‰å¾…æ¯«ç§’\n     * @return response\n     */\n    public Object get(long timeout) {\n        synchronized (this) {\n            // å¼€å§‹æ—¶é—´\n            long beginTime = System.currentTimeMillis();\n            // ç»å†æ—¶é—´\n            long passTime = 0;\n            while (response == null) {\n                // è¿™ä¸€è½®å¾ªç¯å®é™…è¿˜éœ€è¦ç­‰å¾…çš„æ—¶é—´\n                long waitTime = timeout - passTime;\n                // ç»å†æ—¶é—´è¶…è¿‡äº†è®¾ç½®çš„ç­‰å¾…æœ€å¤§æ—¶é—´ï¼Œåˆ™é€€å‡ºå¾ªç¯ã€‚ä¼˜åŒ–ä¸ºè¿˜éœ€ç­‰å¾…çš„æ—¶é—´æ˜¯å¦å°äºç­‰äº0\n                if (waitTime \u003c= 0) {\n                    break;\n                }\n                try {\n                    // è¿™é‡Œåªæ˜¯ç­‰å¾…timeoutæ—¶é—´ï¼Œç­‰å¾…å®Œååˆæ‰§è¡Œå¾ªç¯ï¼Œéœ€å¤„ç†\n                    // å¹¶ä¸”è‹¥æ˜¯è™šå‡æå‰å”¤é†’ï¼Œåˆ™æ­¤æ—¶åº”è¯¥å†ç­‰çš„æ—¶é•¿åº”è¯¥å°‘äºtimeoutï¼ï¼ï¼ç”¨timeoutå‡å»å·²ç»costçš„æ—¶é•¿\n                    this.wait(waitTime);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                passTime = System.currentTimeMillis() - beginTime;// è®¡ç®—ç»å†æ—¶é—´\n            }\n            return response;\n        }\n    }\n\n    /**\n     * äº§ç”Ÿç»“æœ\n     *\n     * @param response response\n     */\n    public void complete(Object response) {\n        synchronized (this) {\n            // ç»™ç»“æœæˆå‘˜å˜é‡èµ‹å€¼ï¼Œå¹¶å”¤é†’ç­‰å¾…çº¿ç¨‹\n            this.response = response;\n            this.notifyAll();\n        }\n    }\n\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-fqaft7q",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockInfo": "amF2YQ==",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-fqaft7q"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "amF2YQ=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "public class Mailboxes {\n\n    // åˆå§‹åŒ–é‚®ç®±ï¼ˆå¤šå°‘æˆ·è®¢é˜…ï¼Œç¬¬ä¸€ä¸ªè®¢é˜…çš„idä¸º1ï¼Œç±»æ¨ï¼‰\n    public Mailboxes(int capacity) {\n        this.createGuardedObjects(capacity);\n    }\n\n    // äº§ç”Ÿå”¯ä¸€idï¼ˆåœ¨è¿™é‡Œé˜²æ­¢Personã€Postmanåˆ›å»ºé‡å¤ï¼‰\n    private static int i = 1;\n    private static synchronized int generateId(){\n        return i++;\n    }\n\n\n    // å¯¹ GuardedObject çš„åˆ›å»ºã€åˆ é™¤\n    private static Map\u003cInteger, GuardedObject\u003e boxes = new Hashtable\u003c\u003e();\n\n\n    /**\n     * åˆå§‹åŒ–æ€»è®¢é˜…\n     */\n    private void createGuardedObjects(int capacity){\n        for (int i1 = 0; i1 \u003c capacity; i1++) {\n            GuardedObject guardedObject = new GuardedObject(generateId());\n            boxes.put(guardedObject.getId(), guardedObject);\n        }\n    }\n\n    public static GuardedObject getGuardedObject(int id){\n        // é€’é€å®Œå°±é”€æ¯ï¼Œä½†æ˜¯ä¸èƒ½è°ƒç”¨ removeï¼Œä¼šæœ‰ ConcurrentModificationException\n        return boxes.get(id);\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-ynnhwpo",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockInfo": "amF2YQ==",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-ynnhwpo"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "amF2YQ=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "@Slf4j(topic = \"TestMailboxes\")\npublic class TestMailboxes {\n\n    public static void main(String[] args) throws InterruptedException {\n\n        // é‚®å±€\n\n        // 5æˆ·äººå®¶éœ€è¦è®¢é˜…é‚®ç®±\n        final int CAPACITY = 5;\n        new Mailboxes(CAPACITY);\n\n        // 5æˆ·äººå®¶éœ€è¦æ”¶ä¿¡\n        for (int i = 1; i \u003c= CAPACITY; i++) {\n            // ç»™ç”¨æˆ·åˆ†é…idï¼Œå¹¶è®©ä»–ä»¬ç­‰ç€æ”¶ä¿¡å°±å®Œäº‹äº†\n            new Person(i).start();\n        }\n\n        TimeUnit.SECONDS.sleep(1);\n\n        // ç”Ÿäº§ä¿¡ï¼Œæ´¾é€ï¼ˆç›®å‰æ˜¯é‚®é€’å‘˜å’Œç”¨æˆ·ä¸€ä¸€å¯¹åº”ï¼‰\n        for (int i = 1; i \u003c= CAPACITY; i++) {\n            new Postman(i, \"å†…å®¹\" + i).start();\n        }\n    }\n}\n\n@Slf4j(topic = \"Person\")\nclass Person extends Thread {\n\n    // åˆ†é…çš„ guardedObject id\n    private final int guardedObjectId;\n\n    public Person(int guardedObjectId) {\n        this.guardedObjectId = guardedObjectId;\n    }\n\n    @Override\n    public void run() {\n        // æ”¶ä¿¡ã€‚æ”¶ä¿¡äººæœ‰é—¨å£é‚®ç®±å·\n        log.debug(\"ç­‰å¾…ä¿¡ä»¶ id:{}\", guardedObjectId);\n        GuardedObject guardedObject = Mailboxes.getGuardedObject(guardedObjectId);\n\n        // ä¸æ–­ç­‰ç€æ”¶ä¿¡å°±å®Œäº‹äº†\n        Object mail = guardedObject.get(5000);\n        log.debug(\"æ”¶åˆ°ä¿¡ id:{}, å†…å®¹:{}\", guardedObjectId, mail);\n    }\n}\n\n\n/**\n * é‚®å±€è°ƒç”¨é‚®é€’å‘˜æ¥æ´¾é€é‚®ä»¶\n */\n@Slf4j(topic = \"Postman\")\nclass Postman extends Thread {\n\n    // ä¿¡ä»¶ä¸Šé¢éƒ½æœ‰ç›®çš„åœ°ï¼ˆè¿™é‡Œç”¨ guardedObject çš„ id è¡¨ç¤ºï¼‰ã€ä¿¡ä»¶å†…å®¹\n    private int id;\n    private String mail;\n\n    public Postman(int id, String mail) {\n        this.id = id;\n        this.mail = mail;\n    }\n\n    @Override\n    public void run() {\n        GuardedObject guardedObject = Mailboxes.getGuardedObject(id);\n        log.debug(\"é€ä¿¡ id:{}, å†…å®¹:{}\", id, mail);\n        guardedObject.complete(mail);\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-359x6zk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-359x6zk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ç»“æœå¦‚ä¸‹ï¼š"
				}
			]
		},
		{
			"ID": "20210707224540-dvt1tbd",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-dvt1tbd"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "23:14:37.927 [Thread-3] DEBUG Person - ç­‰å¾…ä¿¡ä»¶ id:4\n23:14:37.927 [Thread-0] DEBUG Person - ç­‰å¾…ä¿¡ä»¶ id:1\n23:14:37.927 [Thread-1] DEBUG Person - ç­‰å¾…ä¿¡ä»¶ id:2\n23:14:37.927 [Thread-4] DEBUG Person - ç­‰å¾…ä¿¡ä»¶ id:5\n23:14:37.927 [Thread-2] DEBUG Person - ç­‰å¾…ä¿¡ä»¶ id:3\n23:14:38.929 [Thread-6] DEBUG Postman - é€ä¿¡ id:2, å†…å®¹:å†…å®¹2\n23:14:38.929 [Thread-5] DEBUG Postman - é€ä¿¡ id:1, å†…å®¹:å†…å®¹1\n23:14:38.929 [Thread-7] DEBUG Postman - é€ä¿¡ id:3, å†…å®¹:å†…å®¹3\n23:14:38.929 [Thread-0] DEBUG Person - æ”¶åˆ°ä¿¡ id:1, å†…å®¹:å†…å®¹1\n23:14:38.929 [Thread-1] DEBUG Person - æ”¶åˆ°ä¿¡ id:2, å†…å®¹:å†…å®¹2\n23:14:38.929 [Thread-2] DEBUG Person - æ”¶åˆ°ä¿¡ id:3, å†…å®¹:å†…å®¹3\n23:14:38.929 [Thread-8] DEBUG Postman - é€ä¿¡ id:4, å†…å®¹:å†…å®¹4\n23:14:38.929 [Thread-9] DEBUG Postman - é€ä¿¡ id:5, å†…å®¹:å†…å®¹5\n23:14:38.929 [Thread-3] DEBUG Person - æ”¶åˆ°ä¿¡ id:4, å†…å®¹:å†…å®¹4\n23:14:38.930 [Thread-4] DEBUG Person - æ”¶åˆ°ä¿¡ id:5, å†…å®¹:å†…å®¹5\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-937bjp6",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20210707224540-937bjp6"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "## "
				},
				{
					"Type": "NodeText",
					"Data": "å¼‚æ­¥æ¨¡å¼â€”ç”Ÿäº§è€…æ¶ˆè´¹è€… ğŸ”¥"
				}
			]
		},
		{
			"ID": "20210707224540-5mb0egd",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210707224540-5mb0egd"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "å®šä¹‰"
				}
			]
		},
		{
			"ID": "20210707224540-5ga62dl",
			"Type": "NodeList",
			"ListData": {
				"BulletChar": 45,
				"Padding": 2,
				"Marker": "LQ==",
				"Num": -1
			},
			"Properties": {
				"id": "20210707224540-5ga62dl"
			},
			"Children": [
				{
					"ID": "20210707224540-5uvpkjd",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210707224540-5uvpkjd"
					},
					"Children": [
						{
							"ID": "20210707224540-mco38i4",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-mco38i4"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "ä¸å‰é¢çš„ä¿æŠ¤æ€§æš‚åœä¸­çš„ GuardObject ä¸åŒï¼Œ"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "ä¸éœ€è¦äº§ç”Ÿç»“æœå’Œæ¶ˆè´¹ç»“æœçš„çº¿ç¨‹ä¸€ä¸€å¯¹åº”"
								}
							]
						}
					]
				},
				{
					"ID": "20210707224540-yc23w3c",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210707224540-yc23w3c"
					},
					"Children": [
						{
							"ID": "20210707224540-v8hgdy0",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-v8hgdy0"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "æ¶ˆè´¹é˜Ÿåˆ—å¯ä»¥ç”¨æ¥"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "å¹³è¡¡ç”Ÿäº§å’Œæ¶ˆè´¹çš„çº¿ç¨‹èµ„æº"
								}
							]
						}
					]
				},
				{
					"ID": "20210707224540-vm3n357",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210707224540-vm3n357"
					},
					"Children": [
						{
							"ID": "20210707224540-cv8llgo",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-cv8llgo"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "ç”Ÿäº§è€…ä»…è´Ÿè´£äº§ç”Ÿç»“æœæ•°æ®ï¼Œä¸å…³å¿ƒæ•°æ®è¯¥å¦‚ä½•å¤„ç†ï¼Œè€Œæ¶ˆè´¹è€…ä¸“å¿ƒå¤„ç†ç»“æœæ•°æ®"
								}
							]
						}
					]
				},
				{
					"ID": "20210707224540-xb6oh64",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210707224540-xb6oh64"
					},
					"Children": [
						{
							"ID": "20210707224540-z9v1y8f",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-z9v1y8f"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "æ¶ˆæ¯é˜Ÿåˆ—æ˜¯"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "æœ‰å®¹é‡é™åˆ¶"
								},
								{
									"Type": "NodeText",
									"Data": "çš„ï¼Œ"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "æ»¡æ—¶ä¸ä¼šå†åŠ å…¥æ•°æ®ï¼Œç©ºæ—¶ä¸ä¼šå†æ¶ˆè€—æ•°æ®"
								}
							]
						}
					]
				},
				{
					"ID": "20210707224540-f1mv1ms",
					"Type": "NodeListItem",
					"Data": "-",
					"ListData": {
						"Tight": true,
						"BulletChar": 45,
						"Padding": 2,
						"Marker": "LQ==",
						"Num": -1
					},
					"Properties": {
						"id": "20210707224540-f1mv1ms"
					},
					"Children": [
						{
							"ID": "20210707224540-s6lgk6k",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-s6lgk6k"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "JDK ä¸­å„ç§"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "é˜»å¡é˜Ÿåˆ—"
								},
								{
									"Type": "NodeText",
									"Data": "ï¼Œé‡‡ç”¨çš„å°±æ˜¯è¿™ç§æ¨¡å¼"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210707224540-89yf3k8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-89yf3k8"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Children": [
						{
							"Type": "NodeBang",
							"Data": "!"
						},
						{
							"Type": "NodeOpenBracket",
							"Data": "["
						},
						{
							"Type": "NodeLinkText",
							"Data": "image-20210221232338159"
						},
						{
							"Type": "NodeCloseBracket",
							"Data": "]"
						},
						{
							"Type": "NodeOpenParen",
							"Data": "("
						},
						{
							"Type": "NodeLinkDest",
							"Data": "../assets/image-20210221232338159.png"
						},
						{
							"Type": "NodeCloseParen",
							"Data": ")"
						}
					]
				}
			]
		},
		{
			"ID": "20210707224540-urlrwqc",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210707224540-urlrwqc"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "å®ç°â€”æ¶ˆæ¯é˜Ÿåˆ—â€”sync ç‰ˆ ğŸ”¥"
				}
			]
		},
		{
			"ID": "20210707224540-49ueipq",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockInfo": "amF2YQ==",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-49ueipq"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "amF2YQ=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "/**\n * æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸åŒäºMQã€‚æœ¬ç±»æ˜¯çº¿ç¨‹é—´çš„ï¼ŒMQæ˜¯è¿›ç¨‹é—´çš„\n */\n@Slf4j(topic = \"MessageQueue\")\npublic class MessageQueue {\n\n    // æ¶ˆæ¯é˜Ÿåˆ—å®¹å™¨\n    private final LinkedList\u003cMessage\u003e messages = new LinkedList\u003c\u003e();\n\n    // æ¶ˆæ¯é˜Ÿåˆ—å®¹é‡\n    private int capacity;\n\n    public MessageQueue(int capacity) {\n        this.capacity = capacity;\n    }\n\n    /**\n     * ç”Ÿäº§å­˜å…¥æ¶ˆæ¯\n     */\n    public void put(Message message){\n        // ä¸æ–­ç”Ÿäº§æ¶ˆæ¯\n        while (true) {\n            synchronized (messages) {\n                // æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦æ»¡äº†\n                while (messages.size() == capacity) {\n                    try {\n                        log.debug(\"é˜Ÿåˆ—å·²æ»¡ï¼Œç”Ÿäº§è€…çº¿ç¨‹ç­‰å¾…\");\n                        messages.wait();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n                messages.addLast(message);\n                log.debug(\"å·²ç”Ÿäº§æ¶ˆæ¯, {},\", message);\n                messages.notifyAll();// æœ‰æ¶ˆæ¯äº†ï¼Œå”¤é†’ç­‰å¾…çš„æ¶ˆè´¹çº¿ç¨‹\n            }\n\n            try {\n                // ç”Ÿäº§å®Œä¸€ä¸ªä¼‘æ¯ä¸€ä¸‹\n                TimeUnit.SECONDS.sleep(1);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n    /**\n     * æ¶ˆè´¹æ¶ˆæ¯\n     *\n     * @return\n     */\n    public Message take() {\n\n        synchronized (messages) {\n            // æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º\n            while (messages.isEmpty()) {\n                try {\n                    log.debug(\"é˜Ÿåˆ—ä¸ºç©ºï¼Œæ¶ˆè´¹è€…çº¿ç¨‹ç­‰å¾…\");\n                    messages.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n            Message message = messages.removeFirst();\n            log.debug(\"å·²æ¶ˆè´¹æ¶ˆæ¯, {},\", message);\n            messages.notifyAll();// å·²ç»è¢«æ¶ˆè´¹äº†ï¼Œå”¤é†’ç­‰å¾…çš„ç”Ÿäº§è€…çº¿ç¨‹\n            return message;\n        }\n    }\n\n}\n\n\nclass Message {\n    // ç›®å‰idæ²¡å•¥æ„ä¹‰\n    private int id;\n\n    private Object value;\n\n    public Message(int id, Object value) {\n        this.id = id;\n        this.value = value;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public Object getValue() {\n        return value;\n    }\n\n    @Override\n    public String toString() {\n        return \"Message{\" +\n                \"id=\" + id +\n                \", value=\" + value +\n                '}';\n    }\n}\n\n\nclass TestMessageQueue {\n    public static void main(String[] args) {\n\n\n        MessageQueue messageQueue = new MessageQueue(5);\n\n        for (int i = 0; i \u003c 2; i++) {\n            int finalI = i;\n            new Thread(() -\u003e {\n                messageQueue.put(new Message(finalI, \"å€¼\" + finalI));\n            }, \"ç”Ÿäº§è€…\" + i).start();\n        }\n\n        // ä¸€å¤©å°±5ä¸ªäººæ¥æ¶ˆè´¹\n        for (int i = 0; i \u003c 5; i++) {\n            new Thread(() -\u003e {\n                try {\n                    TimeUnit.SECONDS.sleep(1);\n                    Message message = messageQueue.take();\n\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n            }, \"æ¶ˆè´¹è€…\" + i).start();\n        }\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-ixb2mbh",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-ixb2mbh"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ç»“æœå¦‚ä¸‹ï¼š"
				}
			]
		},
		{
			"ID": "20210707224540-wfvk067",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-wfvk067"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "00:09:17.234 [ç”Ÿäº§è€…0] DEBUG MessageQueue - å·²ç”Ÿäº§æ¶ˆæ¯, Message{id=0, value=å€¼0},\n00:09:17.238 [ç”Ÿäº§è€…1] DEBUG MessageQueue - å·²ç”Ÿäº§æ¶ˆæ¯, Message{id=1, value=å€¼1},\n00:09:18.236 [æ¶ˆè´¹è€…4] DEBUG MessageQueue - å·²æ¶ˆè´¹æ¶ˆæ¯, Message{id=0, value=å€¼0},\n00:09:18.237 [æ¶ˆè´¹è€…1] DEBUG MessageQueue - å·²æ¶ˆè´¹æ¶ˆæ¯, Message{id=1, value=å€¼1},\n00:09:18.237 [æ¶ˆè´¹è€…2] DEBUG MessageQueue - é˜Ÿåˆ—ä¸ºç©ºï¼Œæ¶ˆè´¹è€…çº¿ç¨‹ç­‰å¾…\n00:09:18.237 [æ¶ˆè´¹è€…0] DEBUG MessageQueue - é˜Ÿåˆ—ä¸ºç©ºï¼Œæ¶ˆè´¹è€…çº¿ç¨‹ç­‰å¾…\n00:09:18.237 [æ¶ˆè´¹è€…3] DEBUG MessageQueue - é˜Ÿåˆ—ä¸ºç©ºï¼Œæ¶ˆè´¹è€…çº¿ç¨‹ç­‰å¾…\n00:09:18.240 [ç”Ÿäº§è€…0] DEBUG MessageQueue - å·²ç”Ÿäº§æ¶ˆæ¯, Message{id=0, value=å€¼0},\n00:09:18.240 [æ¶ˆè´¹è€…3] DEBUG MessageQueue - å·²æ¶ˆè´¹æ¶ˆæ¯, Message{id=0, value=å€¼0},\n00:09:18.240 [æ¶ˆè´¹è€…0] DEBUG MessageQueue - é˜Ÿåˆ—ä¸ºç©ºï¼Œæ¶ˆè´¹è€…çº¿ç¨‹ç­‰å¾…\n00:09:18.240 [æ¶ˆè´¹è€…2] DEBUG MessageQueue - é˜Ÿåˆ—ä¸ºç©ºï¼Œæ¶ˆè´¹è€…çº¿ç¨‹ç­‰å¾…\n00:09:18.241 [ç”Ÿäº§è€…1] DEBUG MessageQueue - å·²ç”Ÿäº§æ¶ˆæ¯, Message{id=1, value=å€¼1},\n00:09:18.241 [æ¶ˆè´¹è€…2] DEBUG MessageQueue - å·²æ¶ˆè´¹æ¶ˆæ¯, Message{id=1, value=å€¼1},\n00:09:18.241 [æ¶ˆè´¹è€…0] DEBUG MessageQueue - é˜Ÿåˆ—ä¸ºç©ºï¼Œæ¶ˆè´¹è€…çº¿ç¨‹ç­‰å¾…\n00:09:19.245 [ç”Ÿäº§è€…0] DEBUG MessageQueue - å·²ç”Ÿäº§æ¶ˆæ¯, Message{id=0, value=å€¼0},\n00:09:19.245 [æ¶ˆè´¹è€…0] DEBUG MessageQueue - å·²æ¶ˆè´¹æ¶ˆæ¯, Message{id=0, value=å€¼0},\n00:09:19.245 [ç”Ÿäº§è€…1] DEBUG MessageQueue - å·²ç”Ÿäº§æ¶ˆæ¯, Message{id=1, value=å€¼1},\n00:09:20.246 [ç”Ÿäº§è€…1] DEBUG MessageQueue - å·²ç”Ÿäº§æ¶ˆæ¯, Message{id=1, value=å€¼1},\n00:09:20.247 [ç”Ÿäº§è€…0] DEBUG MessageQueue - å·²ç”Ÿäº§æ¶ˆæ¯, Message{id=0, value=å€¼0},\n00:09:21.247 [ç”Ÿäº§è€…1] DEBUG MessageQueue - å·²ç”Ÿäº§æ¶ˆæ¯, Message{id=1, value=å€¼1},\n00:09:21.247 [ç”Ÿäº§è€…0] DEBUG MessageQueue - å·²ç”Ÿäº§æ¶ˆæ¯, Message{id=0, value=å€¼0},\n00:09:22.247 [ç”Ÿäº§è€…1] DEBUG MessageQueue - é˜Ÿåˆ—å·²æ»¡ï¼Œç”Ÿäº§è€…çº¿ç¨‹ç­‰å¾…\n00:09:22.247 [ç”Ÿäº§è€…0] DEBUG MessageQueue - é˜Ÿåˆ—å·²æ»¡ï¼Œç”Ÿäº§è€…çº¿ç¨‹ç­‰å¾…\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-z4eyblf",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20210707224540-z4eyblf"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "### "
				},
				{
					"Type": "NodeText",
					"Data": "å®ç°â€”ç”Ÿäº§æ¶ˆè´¹ ğŸ”¥"
				}
			]
		},
		{
			"ID": "20210707224540-euphjdz",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-euphjdz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ç”Ÿäº§è€…ï¼ˆProductorï¼‰å°†äº§å“äº¤ç»™åº—å‘˜ï¼ˆClerkï¼‰ï¼Œè€Œæ¶ˆè´¹è€…ï¼ˆConsumerï¼‰ä»åº—å‘˜å¤„å–èµ°äº§å“ï¼Œåº—å‘˜ä¸€æ¬¡åªèƒ½æŒæœ‰å›ºå®šæ•°é‡çš„äº§å“ï¼ˆæ¯”å¦‚ 20ï¼‰ï¼Œå¦‚æœç”Ÿäº§è€…è¯•å›¾ç”Ÿäº§æ›´å¤šçš„äº§å“ï¼Œåº—å‘˜ä¼šå«ç”Ÿäº§è€…åœä¸€ä¸‹ï¼Œå¦‚æœåº—ä¸­æœ‰ç©ºä½æ”¾äº§å“äº†å†é€šçŸ¥ç”Ÿäº§è€…ç»§ç»­ç”Ÿäº§ï¼›å¦‚æœåº—ä¸­æ²¡æœ‰äº§å“äº†ï¼Œåº—å‘˜ä¼šå‘Šè¯‰æ¶ˆè´¹è€…ç­‰ä¸€ä¸‹ï¼Œå¦‚æœåº—ä¸­æœ‰äº§å“äº†å†é€šçŸ¥æ¶ˆè´¹è€…æ¥å–èµ°äº§å“ã€‚"
				}
			]
		},
		{
			"ID": "20210707224540-i8l9w56",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20210707224540-i8l9w56"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "åˆ†æï¼š"
				}
			]
		},
		{
			"ID": "20210707224540-4gtl2f9",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1,
				"Start": 1,
				"Delimiter": 46,
				"Padding": 4,
				"Marker": "MQ==",
				"Num": 1
			},
			"Properties": {
				"id": "20210707224540-4gtl2f9"
			},
			"Children": [
				{
					"ID": "20210707224540-a5yyiq2",
					"Type": "NodeListItem",
					"Data": "1",
					"ListData": {
						"Typ": 1,
						"Start": 1,
						"Delimiter": 46,
						"Padding": 4,
						"Marker": "MQ==",
						"Num": 1
					},
					"Properties": {
						"id": "20210707224540-a5yyiq2"
					},
					"Children": [
						{
							"ID": "20210707224540-7kiej43",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-7kiej43"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "æ˜¯å¦æ˜¯å¤šçº¿ç¨‹é—®é¢˜ï¼Ÿæ˜¯ï¼Œç”Ÿäº§è€…çº¿ç¨‹ï¼Œæ¶ˆè´¹è€…çº¿ç¨‹"
								}
							]
						}
					]
				},
				{
					"ID": "20210707224540-8p7wh2i",
					"Type": "NodeListItem",
					"Data": "2",
					"ListData": {
						"Typ": 1,
						"Tight": true,
						"Start": 2,
						"Delimiter": 46,
						"Padding": 4,
						"Marker": "Mg==",
						"Num": 2
					},
					"Properties": {
						"id": "20210707224540-8p7wh2i"
					},
					"Children": [
						{
							"ID": "20210707224540-37q5yfa",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-37q5yfa"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "æ˜¯å¦æœ‰å…±äº«æ•°æ®ï¼Ÿæ˜¯ï¼Œåº—å‘˜ï¼ˆæˆ–äº§å“ï¼‰"
								}
							]
						}
					]
				},
				{
					"ID": "20210707224540-oshvvu5",
					"Type": "NodeListItem",
					"Data": "3",
					"ListData": {
						"Typ": 1,
						"Tight": true,
						"Start": 3,
						"Delimiter": 46,
						"Padding": 4,
						"Marker": "Mw==",
						"Num": 3
					},
					"Properties": {
						"id": "20210707224540-oshvvu5"
					},
					"Children": [
						{
							"ID": "20210707224540-u68pcr8",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20210707224540-u68pcr8"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "æ˜¯å¦æ¶‰åŠçº¿ç¨‹çš„é€šä¿¡ï¼Ÿæ˜¯"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20210707224540-lyeexsu",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20210707224540-lyeexsu"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "#### "
				},
				{
					"Type": "NodeText",
					"Data": "sync ç‰ˆ"
				}
			]
		},
		{
			"ID": "20210707224540-zmkaxm3",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockInfo": "amF2YQ==",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-zmkaxm3"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "amF2YQ=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "class Productor implements Runnable {\n\n    private final Product product;\n\n    public Productor(Product product) {\n        this.product = product;\n    }\n\n    @Override\n    public void run() {\n        while (true) {\n            synchronized (product) {\n                // while å’Œ wait ä¸€èµ·ä½¿ç”¨ï¼›ä¸èƒ½å•ç‹¬ä½¿ç”¨ ifï¼Œå¯èƒ½ä¼šç¼ºå°‘ä¸€æ¬¡åˆ¤æ–­\n                // ä¸èƒ½ä½¿ç”¨ if...elseï¼Œä¼šå¯¼è‡´ wait å”¤é†’åå³ä½¿æ»¡è¶³æ¡ä»¶ä¹Ÿä¸èƒ½ç”Ÿäº§æˆ–æ¶ˆè´¹ï¼Œæµªè´¹äº† OS èµ„æº\n                while (product.productNum \u003e= 20) {\n                    try {\n                        product.wait();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                product.productNum++;\n                System.out.println(Thread.currentThread().getName() + \"ï¼šç”Ÿäº§ç¬¬\" + product.productNum + \"ä¸ªäº§å“\");\n\n                product.notifyAll();\n            }\n            try {\n                // æ”¾åœ¨åŒæ­¥å¤–æ›´åˆç†ï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥æ­¤æ—¶æŠ¢å èµ„æº\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\n\nclass Consumer implements Runnable {\n\n    private final Product product;\n\n    public Consumer(Product product) {\n        this.product = product;\n    }\n\n    @Override\n    public void run() {\n        while (true) {\n            synchronized (product) {\n                // while å’Œ wait ä¸€èµ·ä½¿ç”¨ï¼›ä¸èƒ½å•ç‹¬ä½¿ç”¨ ifï¼Œå¯èƒ½ä¼šç¼ºå°‘ä¸€æ¬¡åˆ¤æ–­\n                // ä¸èƒ½ä½¿ç”¨ if...elseï¼Œä¼šå¯¼è‡´ wait å”¤é†’åå³ä½¿æ»¡è¶³æ¡ä»¶ä¹Ÿä¸èƒ½ç”Ÿäº§æˆ–æ¶ˆè´¹ï¼Œæµªè´¹äº† OS èµ„æº\n                while (product.productNum \u003c= 0) {\n                    try {\n                        product.wait();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                System.out.println(Thread.currentThread().getName() + \"ï¼šæ¶ˆè´¹ç¬¬\" + product.productNum + \"ä¸ªäº§å“\");\n                product.productNum--;\n\n                product.notifyAll();\n            }\n            // æ”¾åœ¨åŒæ­¥å¤–æ›´åˆç†ï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥æ­¤æ—¶æŠ¢å èµ„æº\n            try {\n                Thread.sleep(200);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\nclass Product {\n    // äº§å“æ•°é‡\n    int productNum = 0;\n}\n\n\npublic class PCTest {\n    public static void main(String[] args) {\n        Product product = new Product();\n        new Thread(new Productor(product), \"ç”Ÿäº§è€…1\").start();\n        new Thread(new Productor(product), \"ç”Ÿäº§è€…2\").start();\n        new Thread(new Consumer(product), \"æ¶ˆè´¹è€…1\").start();\n        new Thread(new Consumer(product), \"æ¶ˆè´¹è€…2\").start();\n        new Thread(new Consumer(product), \"æ¶ˆè´¹è€…3\").start();\n        new Thread(new Consumer(product), \"æ¶ˆè´¹è€…4\").start();\n        new Thread(new Consumer(product), \"æ¶ˆè´¹è€…5\").start();\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-dpqet0c",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20210707224540-dpqet0c"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "#### "
				},
				{
					"Type": "NodeText",
					"Data": "Lock ç‰ˆæœ¬"
				}
			]
		},
		{
			"ID": "20210707224540-ww939ak",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"CodeBlockFenceChar": 96,
			"CodeBlockFenceLen": 3,
			"CodeBlockOpenFence": "YGBg",
			"CodeBlockInfo": "amF2YQ==",
			"CodeBlockCloseFence": "YGBg",
			"Properties": {
				"id": "20210707224540-ww939ak"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "amF2YQ=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "class Productor implements Runnable {\n\n    private final Product product;\n\n    public Productor(Product product) {\n        this.product = product;\n    }\n\n    @Override\n    public void run() {\n        while (true) {\n\n            try {\n                product.lock.lock();\n                // while å’Œ wait ä¸€èµ·ä½¿ç”¨ï¼›ä¸èƒ½å•ç‹¬ä½¿ç”¨ ifï¼Œå¯èƒ½ä¼šç¼ºå°‘ä¸€æ¬¡åˆ¤æ–­\n                // ä¸èƒ½ä½¿ç”¨ if...elseï¼Œä¼šå¯¼è‡´ wait å”¤é†’åå³ä½¿æ»¡è¶³æ¡ä»¶ä¹Ÿä¸èƒ½ç”Ÿäº§æˆ–æ¶ˆè´¹ï¼Œæµªè´¹äº† OS èµ„æº\n                while (product.productNum \u003e= 20) {\n                    try {\n                        product.productor.await();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                product.productNum++;\n                System.out.println(Thread.currentThread().getName() + \"ï¼šç”Ÿäº§ç¬¬\" + product.productNum + \"ä¸ªäº§å“\");\n\n                product.consumer.signalAll();\n            } finally {\n                product.lock.unlock();\n            }\n\n\n            try {\n                // æ”¾åœ¨åŒæ­¥å¤–æ›´åˆç†ï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥æ­¤æ—¶æŠ¢å èµ„æº\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\n\nclass Consumer implements Runnable {\n\n    private final Product product;\n\n    public Consumer(Product product) {\n        this.product = product;\n    }\n\n    @Override\n    public void run() {\n        while (true) {\n\n            try {\n                product.lock.lock();\n                // while å’Œ wait ä¸€èµ·ä½¿ç”¨ï¼›ä¸èƒ½å•ç‹¬ä½¿ç”¨ ifï¼Œå¯èƒ½ä¼šç¼ºå°‘ä¸€æ¬¡åˆ¤æ–­\n                // ä¸èƒ½ä½¿ç”¨ if...elseï¼Œä¼šå¯¼è‡´ wait å”¤é†’åå³ä½¿æ»¡è¶³æ¡ä»¶ä¹Ÿä¸èƒ½ç”Ÿäº§æˆ–æ¶ˆè´¹ï¼Œæµªè´¹äº† OS èµ„æº\n                while (product.productNum \u003c= 0) {\n                    try {\n                        product.consumer.await();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                System.out.println(Thread.currentThread().getName() + \"ï¼šæ¶ˆè´¹ç¬¬\" + product.productNum + \"ä¸ªäº§å“\");\n                product.productNum--;\n\n                product.productor.signalAll();\n            } finally {\n                product.lock.unlock();\n            }\n\n            // æ”¾åœ¨åŒæ­¥å¤–æ›´åˆç†ï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥æ­¤æ—¶æŠ¢å èµ„æº\n            try {\n                Thread.sleep(200);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\nclass Product {\n    // äº§å“æ•°é‡\n    int productNum = 0;\n\n    Lock lock = new ReentrantLock();\n    Condition productor = lock.newCondition();\n    Condition consumer = lock.newCondition();\n}\n\n\npublic class PCTest {\n    public static void main(String[] args) {\n        Product product = new Product();\n        new Thread(new Productor(product), \"ç”Ÿäº§è€…1\").start();\n        new Thread(new Productor(product), \"ç”Ÿäº§è€…2\").start();\n        new Thread(new Consumer(product), \"æ¶ˆè´¹è€…1\").start();\n        new Thread(new Consumer(product), \"æ¶ˆè´¹è€…2\").start();\n        new Thread(new Consumer(product), \"æ¶ˆè´¹è€…3\").start();\n        new Thread(new Consumer(product), \"æ¶ˆè´¹è€…4\").start();\n        new Thread(new Consumer(product), \"æ¶ˆè´¹è€…5\").start();\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```",
					"CodeBlockFenceLen": 3
				}
			]
		},
		{
			"ID": "20210707224540-dmufs1g",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20210707224540-dmufs1g"
			},
			"Children": [
				{
					"Type": "NodeHeadingC8hMarker",
					"Data": "#### "
				},
				{
					"Type": "NodeText",
					"Data": "JUC ç‰ˆæœ¬"
				}
			]
		}
	]
}